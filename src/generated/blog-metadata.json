{
  "posts": [
    {
      "id": "2026-01-11",
      "title": "「ついやってしまう」体験のつくりかた を読んだ",
      "excerpt": "自分の過去の経歴を表紙に書くタイプの本には若干アレルギーあるけれど、結局は「誰が言うか」が重要なので肩書きを書く方が売れるのだろう。",
      "html": "<h1 id=\"%E5%8B%95%E6%A9%9F\" data-line=\"1\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%8B%95%E6%A9%9F\" aria-hidden=\"true\"></a> 動機</h1>\n<p data-line=\"3\" class=\"code-line\">会社の同期に借りたまま 7 年間本棚で眠っていた本。ゲームの企画書作りに行き詰まっていたので、藁にもすがる思いで読み始めた。</p>\n<p data-line=\"5\" class=\"code-line\"><span class=\"embed-block zenn-embedded zenn-embedded-card\"><iframe id=\"zenn-embedded__8c3827892ff5f\" src=\"https://embed.zenn.studio/card#zenn-embedded__8c3827892ff5f\" data-content=\"https%3A%2F%2Famzn.asia%2Fd%2FgL30sAr\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span><a href=\"https://amzn.asia/d/gL30sAr\" style=\"display:none\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://amzn.asia/d/gL30sAr</a></p>\n<h1 id=\"%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" data-line=\"7\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-hidden=\"true\"></a> はじめに</h1>\n<p data-line=\"9\" class=\"code-line\">鼻と指の絵が書いてある。鼻に指を突っ込みたくなる。任意の行動を起こしたくなる、このように「心」を動かすものを体験と呼んでいる。この体験をデザインする方法について書いていくと宣言されている。</p>\n<h1 id=\"%E7%AC%AC%E4%B8%80%E7%AB%A0-%E7%9B%B4%E6%84%9F%E3%81%AE%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3\" data-line=\"11\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E7%9B%B4%E6%84%9F%E3%81%AE%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3\" aria-hidden=\"true\"></a> 第一章 直感のデザイン</h1>\n<p data-line=\"13\" class=\"code-line\">スーパーマリオブラザーズの体験デザインを分析している。スーパーマリオブラザーズの 1 - 1 ステージのスタート地点に降り立った瞬間のスナップショットが描かれている。この場面では、プレイヤーが<strong>右に進みたくなる</strong>ような仕組みが凝らされている。マリオは右を向いており、画面の少し左側に位置している。また、雲や草むらが画面右手に存在している。</p>\n<p data-line=\"15\" class=\"code-line\">この仕組みに従い、右に進むとクリボーが出てくる。この時のプレイヤーの心情は「嬉しい」だそう。プレイヤーは右に行くのが正解かどうか分からないまま、とりあえず右に進んだ結果、状況に進展がある。つまり、自分の仮説は正しかったという成功体験を得られる。この時の心情の流れは、</p>\n<p data-line=\"17\" class=\"code-line\"><strong>仮説</strong> -&gt; <strong>試行</strong> -&gt; <strong>歓喜</strong></p>\n<p data-line=\"19\" class=\"code-line\">とのこと。この一連の成功体験を経ることで、プレイヤーは「右へ行けばいい」ということを深く信じる。<strong>人間は自分で学び得たことは、一生否定できないほどに深く信じる</strong> ようだ。これが、<strong>直感のデザイン</strong>。そして、この直感でわかるものはもはや <strong>面白い</strong> のだそう。</p>\n<p data-line=\"21\" class=\"code-line\">右へ行きたくなる仕組みとして、UI も寄与している。例えばゲームコントローラーには明らかに右へ行けそうな十時スティックの右ボタンが存在している。</p>\n<p data-line=\"23\" class=\"code-line\">ゲームは面白いから遊ぶのではなく「<strong>つい思いついちゃった、ついやっちゃった</strong>」から遊ぶのだそう。</p>\n<p data-line=\"25\" class=\"code-line\">また、この直感のデザインを成功させるには体験は <strong>シンプル</strong> であるべき。難解なものはそもそもすぐに飽きられて遊ばれない。また、難解なものは誰でも思いつけるが、シンプルなものを思いつくのは非常に難しい。</p>\n<p data-line=\"27\" class=\"code-line\">また、ファイヤーフラワーやキノコ、スターなどのアイテムの提供方法にも工夫がある。序盤のうち、つまり 2 ステージに到達するまでに全て登場させるのだ。</p>\n<p data-line=\"29\" class=\"code-line\">これは <strong>初頭効果</strong> というものがあり、最初の方が効率良く学習ができるという効果を狙ったものらしい。</p>\n<p data-line=\"31\" class=\"code-line\">また、次にゼルダの伝説 時のオカリナの話が出てきた。初めドアの前にある蜘蛛の巣をどうにかしないとドアを出られない仕掛けになっている。</p>\n<p data-line=\"33\" class=\"code-line\">この際に、手持ちの木の棒と火のついた燭台がある。ここで重要なのは「<strong>木は燃える</strong>」という経験に基づいた周知の事実。つまり、自分の経験から得られている事実から体験をデザインすることもできる。</p>\n<h2 id=\"%E3%81%BE%E3%81%A8%E3%82%81\" data-line=\"35\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-hidden=\"true\"></a> まとめ</h2>\n<p data-line=\"37\" class=\"code-line\">直感のデザインは下記のそれぞれのゲームでは別のものが使われている。</p>\n<ul data-line=\"39\" class=\"code-line\">\n<li data-line=\"39\" class=\"code-line\">マリオは、人々に共通する脳や心の性質を利用している</li>\n<li data-line=\"40\" class=\"code-line\">ゼルダは、人々に共通する記憶を利用している</li>\n</ul>\n<p data-line=\"42\" class=\"code-line\">また、ゲームが面白いから遊ぶのではなく</p>\n<ul data-line=\"44\" class=\"code-line\">\n<li data-line=\"44\" class=\"code-line\">プレイヤー自身が直感する体験が面白いから遊ぶ</li>\n</ul>\n<h1 id=\"%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E9%A9%9A%E3%81%8D%E3%81%AE%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3\" data-line=\"46\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E9%A9%9A%E3%81%8D%E3%81%AE%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3\" aria-hidden=\"true\"></a> 第二章 驚きのデザイン</h1>\n<p data-line=\"48\" class=\"code-line\">ドラクエは非常に複雑なシステムが存在し、またシリアスな物語が存在する。その中であまりにも異質な「ぱふぱふ」の存在。なぜ必要なのか。</p>\n<p data-line=\"50\" class=\"code-line\">どれだけ直感のデザインを積み重ねていても、同じような刺激が繰り返されるとは反応が必ず弱まっていき、疲労と飽きが来る。この脳みその状態を完全に裏切って驚かすためのデザインとして利用されている。</p>\n<p data-line=\"52\" class=\"code-line\"><strong>仮説 (誤解)</strong> -&gt; <strong>試行</strong> -&gt; <strong>驚愕</strong></p>\n<p data-line=\"54\" class=\"code-line\">ただ疑問となるのが、プレイヤーの予想を裏切る方法であれば性的な演出である必要はないのではないか？ということ。これは性などのように人間が本能的に欲するものをモチーフとして利用することで、この驚きが極めて強いものになり得るようデザインされているからである。</p>\n<p data-line=\"56\" class=\"code-line\">このモチーフには 10 種類がある。</p>\n<ul data-line=\"58\" class=\"code-line\">\n<li data-line=\"58\" class=\"code-line\">性\n<ul data-line=\"59\" class=\"code-line\">\n<li data-line=\"59\" class=\"code-line\">ときめき</li>\n<li data-line=\"60\" class=\"code-line\">エッチな感じ</li>\n</ul>\n</li>\n<li data-line=\"61\" class=\"code-line\">食\n<ul data-line=\"62\" class=\"code-line\">\n<li data-line=\"62\" class=\"code-line\">美味しそう感</li>\n<li data-line=\"63\" class=\"code-line\">空腹感</li>\n</ul>\n</li>\n<li data-line=\"64\" class=\"code-line\">損得\n<ul data-line=\"65\" class=\"code-line\">\n<li data-line=\"65\" class=\"code-line\">お金が欲しい感</li>\n<li data-line=\"66\" class=\"code-line\">損したくない感</li>\n</ul>\n</li>\n<li data-line=\"67\" class=\"code-line\">承認\n<ul data-line=\"68\" class=\"code-line\">\n<li data-line=\"68\" class=\"code-line\">認められた感</li>\n<li data-line=\"69\" class=\"code-line\">所属している感</li>\n</ul>\n</li>\n<li data-line=\"70\" class=\"code-line\">けがれ\n<ul data-line=\"71\" class=\"code-line\">\n<li data-line=\"71\" class=\"code-line\">汚い</li>\n<li data-line=\"72\" class=\"code-line\">罪悪感</li>\n</ul>\n</li>\n<li data-line=\"73\" class=\"code-line\">暴力\n<ul data-line=\"74\" class=\"code-line\">\n<li data-line=\"74\" class=\"code-line\">痛い感</li>\n<li data-line=\"75\" class=\"code-line\">一方的感</li>\n</ul>\n</li>\n<li data-line=\"76\" class=\"code-line\">混乱\n<ul data-line=\"77\" class=\"code-line\">\n<li data-line=\"77\" class=\"code-line\">まちがってる感</li>\n<li data-line=\"78\" class=\"code-line\">クラクラ感</li>\n</ul>\n</li>\n<li data-line=\"79\" class=\"code-line\">死\n<ul data-line=\"80\" class=\"code-line\">\n<li data-line=\"80\" class=\"code-line\">死に近付く感</li>\n<li data-line=\"81\" class=\"code-line\">オカルト感</li>\n</ul>\n</li>\n<li data-line=\"82\" class=\"code-line\">射幸心と偶然\n<ul data-line=\"83\" class=\"code-line\">\n<li data-line=\"83\" class=\"code-line\">賭けている感</li>\n<li data-line=\"84\" class=\"code-line\">祈っている感</li>\n</ul>\n</li>\n<li data-line=\"85\" class=\"code-line\">プライベート\n<ul data-line=\"86\" class=\"code-line\">\n<li data-line=\"86\" class=\"code-line\">恥ずかしい感</li>\n<li data-line=\"87\" class=\"code-line\">秘密感</li>\n</ul>\n</li>\n</ul>\n<p data-line=\"89\" class=\"code-line\">このように人間が本能的に欲するものや目を背けるものが並んでいる。このようなものを取り入れて、<strong>直感のデザインに驚きのデザインを織り交ぜる</strong> 必要がある。</p>\n<h2 id=\"%E3%81%BE%E3%81%A8%E3%82%81-1\" data-line=\"91\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%81%BE%E3%81%A8%E3%82%81-1\" aria-hidden=\"true\"></a> まとめ</h2>\n<ul data-line=\"93\" class=\"code-line\">\n<li data-line=\"93\" class=\"code-line\">疲れや飽きをごまかすためには適当なタイミングで驚きのデザインを取り入れる</li>\n<li data-line=\"94\" class=\"code-line\">それによってユーザーを裏切る必要がある</li>\n<li data-line=\"95\" class=\"code-line\">また驚きのモチーフは人間が本能的に欲するものや目を背けるような強烈なものであるべき</li>\n</ul>\n<h1 id=\"%E7%AC%AC%E4%B8%89%E7%AB%A0-%E7%89%A9%E8%AA%9E%E3%81%AE%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3\" data-line=\"97\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E7%89%A9%E8%AA%9E%E3%81%AE%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3\" aria-hidden=\"true\"></a> 第三章 物語のデザイン</h1>\n<p data-line=\"99\" class=\"code-line\">The Last of Us と 風ノ旅ビト を例に挙げている。</p>\n<ul data-line=\"101\" class=\"code-line\">\n<li data-line=\"101\" class=\"code-line\">The Last of Us: 映像と登場人物のセリフのみ</li>\n<li data-line=\"102\" class=\"code-line\">風ノ旅ビト: 映像のみセリフすらない</li>\n</ul>\n<p data-line=\"104\" class=\"code-line\">物語にとって文字は必須ではない。</p>\n<p data-line=\"106\" class=\"code-line\">本には絵が 3 つ並べてある。脳はそれを見て、絵と絵を関連づけようとする。つまり <strong>脳は常に全体像を把握したがる臓器</strong> だということ。五感と自分の経験を元に、目の前で起こっていることは何なのかを理解しようとする。</p>\n<p data-line=\"108\" class=\"code-line\">それぞれのゲームの序盤のシーン構成を見ると、情報量と受動性/能動性これら二つの要素で波形を描いていることがわかる。</p>\n<ul data-line=\"110\" class=\"code-line\">\n<li data-line=\"110\" class=\"code-line\">ムービー: 情報量多い。受動的。</li>\n<li data-line=\"111\" class=\"code-line\">探索: 情報量は中程度。受動性/能動性も中程度。</li>\n<li data-line=\"112\" class=\"code-line\">戦闘: 情報量は少ない。能動的。</li>\n</ul>\n<p data-line=\"114\" class=\"code-line\">これらの要素を織り交ぜて、<strong>テンポとコントラスト</strong> で波を作る。これは波を作ることで驚きのデザインと同様に飽きが来ないようにしている。またこうすることで未来の予測もしやすくなる -&gt; <strong>つまり裏切るための地盤が作れる</strong>。また、時間軸を超えた理解というのも重要。つまり、波の中で伏線を撒いておくことも重要。</p>\n<p data-line=\"116\" class=\"code-line\">次にプレイヤーを成長させる体験デザインについて。そもそもゲームの中の架空の物語も、プレイヤーを成長させるための手段に過ぎない。</p>\n<ol data-line=\"118\" class=\"code-line\">\n<li data-line=\"118\" class=\"code-line\">収集と反復</li>\n</ol>\n<p data-line=\"120\" class=\"code-line\">例えば 1, 2, 3, 4, 5, 6, 7, 9 という文字があると、8 を探したくなる。この収集という体験は、収集を完了するまでプレイヤーは同じ体験を何回も繰り返してくれるため、成長し続けてくれる。</p>\n<p data-line=\"122\" class=\"code-line\">ポケモンはまさにそうで、白紙の図鑑によって全体像と穴を認識させられた状態でモンスターを捕まえる体験を繰り返す。結果として子供達は 151 匹のモンスターを余すことなく覚える。</p>\n<p data-line=\"124\" class=\"code-line\">これはただ収集するだけだと飽きる。そのためにリズムを用いて体験に差分を出したり、緊張感を継続する仕組みにしたり。趣向を凝らす必要がある。</p>\n<ol start=\"2\" data-line=\"126\" class=\"code-line\">\n<li data-line=\"126\" class=\"code-line\">選択と裁量</li>\n</ol>\n<p data-line=\"128\" class=\"code-line\">ローリスク・ローリターン / ハイリスク・ハイリターンのそれぞれの要素を用意して、プレイヤーにちょうど良い難易度でゲームを遊ばせる必要がある。あまり本の例がしっくり来なかったが、言ってしまえばタルコフのスカブと PMC だ。</p>\n<ol start=\"3\" data-line=\"130\" class=\"code-line\">\n<li data-line=\"130\" class=\"code-line\">翻意と共感</li>\n</ol>\n<p data-line=\"132\" class=\"code-line\">面倒な味方を用意しておき、プレイヤーも主人公も「腹立つなぁ」という同じ方向を向ける。そして、物語を進めていく中でその面倒な味方が死ぬ寸前くらいまで痛めつける。ここでようやく「味方よ...」とプレイヤーと主人公をここでも同じ方向に向ける。</p>\n<hr data-line=\"134\" class=\"code-line\" />\n<p data-line=\"136\" class=\"code-line\">最後に、プレイヤーをスタート地点に戻すというデザイン。そうすることで、体験を通り抜ける前後の自分を比較できるようにするということ。</p>\n<h1 id=\"%E7%B5%82%E7%AB%A0\" data-line=\"138\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E7%B5%82%E7%AB%A0\" aria-hidden=\"true\"></a> 終章</h1>\n<p data-line=\"140\" class=\"code-line\"><strong>体験</strong> -&gt; <strong>感情</strong> -&gt; <strong>記憶</strong></p>\n<p data-line=\"142\" class=\"code-line\">この流れが常に人生を突き動かしている。記憶に残っているものは、感情を強く揺れ動かされた体験のはず。</p>\n<h1 id=\"%E5%BF%9C%E7%94%A8\" data-line=\"144\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%BF%9C%E7%94%A8\" aria-hidden=\"true\"></a> 応用</h1>\n<p data-line=\"146\" class=\"code-line\">企画する作業。これは考え続ける作業とするのは間違い。</p>\n<p data-line=\"148\" class=\"code-line\">わかりにくいことが問題 -&gt; 直感のデザイン<br />\n疲れや飽きが問題 -&gt; 驚きのデザイン<br />\nやりがいがないことが問題 -&gt; 物語のデザイン</p>\n<p data-line=\"152\" class=\"code-line\">このように応用する。</p>\n<p data-line=\"154\" class=\"code-line\">企画体験の最大の難点は、無謀なアプローチが不安を生み、疲れや飽きが発生してしまうのではないかという部分。これは驚きのデザインを応用できる。前述の 10 個のモチーフを元に自分の経験からアイデアを断片的に拾い上げていく。</p>\n<p data-line=\"156\" class=\"code-line\">また、これが役に立つかどうかで立ち止まるのではなくまず出し切る。そして、そうすることで自分の興味関心には偏りがあり、それを元に自分にとって本当に大切なものを定義する。</p>\n",
      "date": "2026-01-11",
      "tags": [
        "Book"
      ],
      "readTime": "10 min",
      "published": true,
      "source": "local"
    },
    {
      "id": "2026-01-08",
      "title": "葬送のフリーレンが面白い",
      "excerpt": "今日はあまりにもタイトルと内容が一致していない。自分的には技術について書くより、他人に見られることを無視して、小さい頃の落書きのようにツラツラ書く方が楽しい。",
      "html": "<h1 id=\"%E9%9B%91%E8%AB%87\" data-line=\"1\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E9%9B%91%E8%AB%87\" aria-hidden=\"true\"></a> 雑談</h1>\n<p data-line=\"3\" class=\"code-line\">1/16(金) から二期が始まるらしい。それもあってか広告でレコメンドされていて、見事にやられた。</p>\n<p data-line=\"5\" class=\"code-line\">ちなみに、以前別アプリで漫画を買った気がするのだけれど...どのアプリなんだろうか...今はピッコマしか入れてないし...うーん、多分勿体無いことをしている。でも探さなければ有耶無耶になるし、いいか。</p>\n<p data-line=\"7\" class=\"code-line\">奥さんに知られたら怒られるだろうけれど。まぁ奥さんがここを見ることなんて今生ないだろう。</p>\n<h1 id=\"%E3%81%AA%E3%81%9C%E8%89%AF%E3%81%84%E3%81%AE%E3%81%8B\" data-line=\"9\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%81%AA%E3%81%9C%E8%89%AF%E3%81%84%E3%81%AE%E3%81%8B\" aria-hidden=\"true\"></a> なぜ良いのか</h1>\n<p data-line=\"11\" class=\"code-line\">これは特殊で、フリーレンとフェルンというキャラが、あんなに魔法使いとして有能なのにあんなに自由なのがたまらないのだと思う。僕は自分自身があまりにも無能で、あまりにも縛られていることをよく知っているので、自分と正反対な姿に憧れているというわけだと思う。</p>\n<p data-line=\"13\" class=\"code-line\">...ここまで書いて思うけれど、そもそも、有能とか無能とか考えている時点で凡夫なんだと思う。天才は有能とか無能とか考えていない。周りからどう見られるか、自分がどうあるべきかとかそういう次元の話ではなく、とにかく自由に突っ走ってどこかに行ってしまえるのが天才だと思う。</p>\n<p data-line=\"15\" class=\"code-line\">二人にはそれを感じちゃうんだよなぁ。ゼーリエとのやり取りとか。僕は凡夫だから、すごい攻撃性の高い強い魔法や生きていく上で効率の良い魔法をもらっちゃうだろうな。羨ましい。</p>\n<h1 id=\"%E3%81%82%E3%81%A8%E3%81%8C%E3%81%8D\" data-line=\"17\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%81%82%E3%81%A8%E3%81%8C%E3%81%8D\" aria-hidden=\"true\"></a> あとがき</h1>\n<p data-line=\"19\" class=\"code-line\">なんか漫画アニメについて書こうと思っていたら色々考え込んでしまった。何というタイトル無視の自分語り。まぁでも視聴されることを一切考えず、幼少期にどこかに書いてた落書きのように、よくわからないことを、よくわからない場所に書くのは楽しいかもしれない。</p>\n<p data-line=\"21\" class=\"code-line\">ところで AI に語りかけていたらこの本を紹介してくれた。</p>\n<p data-line=\"23\" class=\"code-line\"><span class=\"embed-block zenn-embedded zenn-embedded-card\"><iframe id=\"zenn-embedded__2a00492971d01\" src=\"https://embed.zenn.studio/card#zenn-embedded__2a00492971d01\" data-content=\"https%3A%2F%2Famzn.asia%2Fd%2F1TdOL3S\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span><a href=\"https://amzn.asia/d/1TdOL3S\" style=\"display:none\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://amzn.asia/d/1TdOL3S</a></p>\n<p data-line=\"25\" class=\"code-line\">買っちゃった。週末読もう。...こんな本を買うのも凡夫だからなんだろう。いかに今の自分から逸脱していけるかが僕の中のテーマなんかも ?<br />\n終わり。</p>\n",
      "date": "2026-01-08",
      "tags": [
        "Random"
      ],
      "readTime": "2 min",
      "published": true,
      "source": "local"
    },
    {
      "id": "2026-01-06",
      "title": "SSL/TLS そしてピンニング",
      "excerpt": "あやふやなのでちゃんと理解する。",
      "html": "<h1 id=\"%E3%81%8D%E3%81%A3%E3%81%8B%E3%81%91\" data-line=\"1\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%81%8D%E3%81%A3%E3%81%8B%E3%81%91\" aria-hidden=\"true\"></a> きっかけ</h1>\n<p data-line=\"3\" class=\"code-line\">副業で Web3 の wallet server と client の通信の暗号化の話になった。その上で、どれほど堅牢にすれば秘匿性の高いデータを送受信するに足るのかが気になったので、まずは理解があやふやなこの辺りの基礎を理解しようと考えた。</p>\n<p data-line=\"5\" class=\"code-line\"><span class=\"embed-block zenn-embedded zenn-embedded-card\"><iframe id=\"zenn-embedded__b053bb48aac4c\" src=\"https://embed.zenn.studio/card#zenn-embedded__b053bb48aac4c\" data-content=\"https%3A%2F%2Fzenn.dev%2Fcollabostyle%2Farticles%2Fec7604c7468b84\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span><a href=\"https://zenn.dev/collabostyle/articles/ec7604c7468b84\" style=\"display:none\" target=\"_blank\">https://zenn.dev/collabostyle/articles/ec7604c7468b84</a></p>\n<p data-line=\"7\" class=\"code-line\">この記事を元に要点をまとめる。もしかしたらほとんど模写になるかもしれんが、それはそれでいい。</p>\n<h1 id=\"ssl%2Ftls\" data-line=\"9\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#ssl%2Ftls\" aria-hidden=\"true\"></a> SSL/TLS</h1>\n<p data-line=\"11\" class=\"code-line\">3 つの役割がある。</p>\n<h2 id=\"%E7%9B%97%E8%81%B4%E3%82%92%E9%98%B2%E6%AD%A2%E3%81%99%E3%82%8B\" data-line=\"13\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E7%9B%97%E8%81%B4%E3%82%92%E9%98%B2%E6%AD%A2%E3%81%99%E3%82%8B\" aria-hidden=\"true\"></a> 盗聴を防止する</h2>\n<p data-line=\"15\" class=\"code-line\">前提として SSL/TLS で通信をすることで通信内容は暗号化されるため、途中で見られても中身は分からないし、第三者は意味のあるデータを取得することはできない。</p>\n<h2 id=\"%E6%94%B9%E7%AB%84%E3%82%92%E9%98%B2%E6%AD%A2%E3%81%99%E3%82%8B\" data-line=\"17\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E6%94%B9%E7%AB%84%E3%82%92%E9%98%B2%E6%AD%A2%E3%81%99%E3%82%8B\" aria-hidden=\"true\"></a> 改竄を防止する</h2>\n<p data-line=\"19\" class=\"code-line\">SSL/TLS では受け取ったデータが、送信時と同じ内容かどうかを確認することができる。</p>\n<h2 id=\"%E6%8E%A5%E7%B6%9A%E5%85%88%E3%81%AE%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%8C%E6%9C%AC%E7%89%A9%E3%81%8B%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\" data-line=\"21\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E6%8E%A5%E7%B6%9A%E5%85%88%E3%81%AE%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%8C%E6%9C%AC%E7%89%A9%E3%81%8B%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\" aria-hidden=\"true\"></a> 接続先のサーバーが本物かを確認する</h2>\n<p data-line=\"23\" class=\"code-line\">サーバー証明書を利用して、実際に接続するサーバーが本物かどうかを確かめる。</p>\n<h1 id=\"%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%A8%BC%E6%98%8E%E6%9B%B8\" data-line=\"25\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%A8%BC%E6%98%8E%E6%9B%B8\" aria-hidden=\"true\"></a> サーバー証明書</h1>\n<p data-line=\"27\" class=\"code-line\">そのドメインの持ち主がそのサーバーであることを保証するもの。サーバー証明書には主に下記が書かれている。</p>\n<ul data-line=\"29\" class=\"code-line\">\n<li data-line=\"29\" class=\"code-line\">ドメイン</li>\n<li data-line=\"30\" class=\"code-line\">有効期限</li>\n<li data-line=\"31\" class=\"code-line\">発行主 (認証局/CA)</li>\n<li data-line=\"32\" class=\"code-line\">サーバー公開鍵</li>\n</ul>\n<p data-line=\"34\" class=\"code-line\">証明書は公開情報であり、ブラウザのデベロッパーツールから閲覧できる。また、詳細タブを押すと色々と細かく何が含まれているかが見れる。</p>\n<p data-line=\"36\" class=\"code-line\"><img src=\"/images/blog/2026-01-06/ca.png\" alt=\"ca\" class=\"md-img\" loading=\"lazy\" /></p>\n<p data-line=\"38\" class=\"code-line\">サーバー証明書は以下を満たす必要がある。</p>\n<ul data-line=\"40\" class=\"code-line\">\n<li data-line=\"40\" class=\"code-line\">信頼された第三者が発行していること</li>\n<li data-line=\"41\" class=\"code-line\">第三者を端末が信頼していること</li>\n</ul>\n<p data-line=\"43\" class=\"code-line\">前者の、第三者とは認証局 (Certificate Authority) のこと。事前にそのサーバーがドメインの正当な持ち主であるということを伝えることで、証明書に電子署名をしたサーバー証明書を発行してくれる。</p>\n<p data-line=\"45\" class=\"code-line\">そして、Web ブラウザや OS にはあらかじめ信頼して良い認証局の証明書が登録してあります。そのため、通信を開始する際にサーバー証明書を受け取ると</p>\n<ul data-line=\"47\" class=\"code-line\">\n<li data-line=\"47\" class=\"code-line\">発行主 (CA)</li>\n<li data-line=\"48\" class=\"code-line\">発行主は信頼済みか</li>\n<li data-line=\"49\" class=\"code-line\">証明書の内容に問題がないか</li>\n</ul>\n<p data-line=\"51\" class=\"code-line\">の確認がなされます。</p>\n<h1 id=\"%E8%AA%8D%E8%A8%BC%E5%B1%80%E3%81%AE%E7%BD%B2%E5%90%8D%E3%81%AE%E4%BB%95%E7%B5%84%E3%81%BF\" data-line=\"53\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E8%AA%8D%E8%A8%BC%E5%B1%80%E3%81%AE%E7%BD%B2%E5%90%8D%E3%81%AE%E4%BB%95%E7%B5%84%E3%81%BF\" aria-hidden=\"true\"></a> 認証局の署名の仕組み</h1>\n<p data-line=\"55\" class=\"code-line\">これから自分が発行する証明書の内容 (ドメイン名や有効期限) を元にハッシュ値を計算する。また、計算したハッシュ値を CA 自身の秘密鍵を利用して署名します。この秘密鍵で署名 (暗号化) されたハッシュ値が、証明書の中に書かれている電子署名のこと。</p>\n<h1 id=\"%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%8C%E6%9C%AC%E7%89%A9%E3%81%8B%E3%82%92%E3%81%A9%E3%81%86%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B%E3%81%8B\" data-line=\"57\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%8C%E6%9C%AC%E7%89%A9%E3%81%8B%E3%82%92%E3%81%A9%E3%81%86%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B%E3%81%8B\" aria-hidden=\"true\"></a> サーバーが本物かをどう確認するか</h1>\n<p data-line=\"59\" class=\"code-line\">結論、2 通りの方法でハッシュ値を導き出して、それぞれの値が一致していることを確認することで本物とみなす。</p>\n<p data-line=\"61\" class=\"code-line\">1 つ目。受け取ったサーバー証明書を元に、ローカルでもハッシュ値を計算する。アルゴリズムが証明書に書いてあるので、証明書をそのアルゴリズムで暗号化してハッシュ値を導き比較する。ということみたい。</p>\n<aside class=\"msg message\"><span class=\"msg-symbol\">!</span><div class=\"msg-content\"><p data-line=\"64\" class=\"code-line\">こっちは道中に証明書が書き換えられていないかどうかを保証する。</p>\n</div></aside>\n<p data-line=\"67\" class=\"code-line\">また先ほど</p>\n<blockquote data-line=\"69\" class=\"code-line\">\n<p data-line=\"69\" class=\"code-line\">また、計算したハッシュ値を CA 自身の秘密鍵を利用して署名します。</p>\n</blockquote>\n<p data-line=\"71\" class=\"code-line\">と書いたが、Web ブラウザや OS に元々登録してある信頼済み認証局の証明書から公開鍵を取り出すことができます。つまり、その公開鍵を利用することで、認証局の秘密鍵によって電子署名 (= 暗号化されたハッシュ値) を復号することができる。</p>\n<aside class=\"msg message\"><span class=\"msg-symbol\">!</span><div class=\"msg-content\"><p data-line=\"74\" class=\"code-line\">こっちは自分が信頼している認証局によって電子署名が行われたことを保証する。</p>\n</div></aside>\n<h1 id=\"tls-%E3%83%8F%E3%83%B3%E3%83%89%E3%82%B7%E3%82%A7%E3%82%A4%E3%82%AF%E3%81%AE%E6%B5%81%E3%82%8C-(tls1.2-rsa-%E9%8D%B5%E4%BA%A4%E6%8F%9B)\" data-line=\"77\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#tls-%E3%83%8F%E3%83%B3%E3%83%89%E3%82%B7%E3%82%A7%E3%82%A4%E3%82%AF%E3%81%AE%E6%B5%81%E3%82%8C-(tls1.2-rsa-%E9%8D%B5%E4%BA%A4%E6%8F%9B)\" aria-hidden=\"true\"></a> TLS ハンドシェイクの流れ (TLS1.2 RSA 鍵交換)</h1>\n<h2 id=\"%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E3%81%8C%E6%8E%A5%E7%B6%9A%E3%82%92%E9%96%8B%E5%A7%8B%E3%81%99%E3%82%8B\" data-line=\"79\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E3%81%8C%E6%8E%A5%E7%B6%9A%E3%82%92%E9%96%8B%E5%A7%8B%E3%81%99%E3%82%8B\" aria-hidden=\"true\"></a> クライアントが接続を開始する</h2>\n<p data-line=\"81\" class=\"code-line\">SSL3.0, TLS1.1, TLS1.2... みたいに、自分が利用できる暗号方式のリストを送る。</p>\n<h2 id=\"%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%8C%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%82%92%E9%80%81%E3%82%8B\" data-line=\"83\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%8C%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%82%92%E9%80%81%E3%82%8B\" aria-hidden=\"true\"></a> サーバーが証明書を送る</h2>\n<p data-line=\"85\" class=\"code-line\">証明書と、使用する暗号方式の方法をクライアントに返す。</p>\n<h2 id=\"%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%81%AE%E6%A4%9C%E8%A8%BC\" data-line=\"87\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%81%AE%E6%A4%9C%E8%A8%BC\" aria-hidden=\"true\"></a> サーバー証明書の検証</h2>\n<p data-line=\"89\" class=\"code-line\">さっきの話。2 通りの方法でハッシュ値を導き出して比較する。</p>\n<h2 id=\"%E9%80%9A%E4%BF%A1%E3%81%AB%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B%E5%85%B1%E9%80%9A%E9%8D%B5%E3%81%AE%E5%85%83%E3%81%A8%E3%81%AA%E3%82%8B%E5%80%A4%E3%82%92%E4%BD%9C%E3%82%8B\" data-line=\"91\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E9%80%9A%E4%BF%A1%E3%81%AB%E5%88%A9%E7%94%A8%E3%81%99%E3%82%8B%E5%85%B1%E9%80%9A%E9%8D%B5%E3%81%AE%E5%85%83%E3%81%A8%E3%81%AA%E3%82%8B%E5%80%A4%E3%82%92%E4%BD%9C%E3%82%8B\" aria-hidden=\"true\"></a> 通信に利用する共通鍵の元となる値を作る</h2>\n<p data-line=\"93\" class=\"code-line\">クライアントによってプリマスタシークレットというランダムな値を払い出す。</p>\n<h2 id=\"%E3%83%97%E3%83%AA%E3%83%9E%E3%82%B9%E3%82%BF%E3%82%B7%E3%83%BC%E3%82%AF%E3%83%AC%E3%83%83%E3%83%88%E3%82%92%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AE%E5%85%AC%E9%96%8B%E9%8D%B5%E3%81%A7%E6%9A%97%E5%8F%B7%E5%8C%96%E3%81%97%E3%81%A6%E9%80%81%E3%82%8B\" data-line=\"95\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%83%97%E3%83%AA%E3%83%9E%E3%82%B9%E3%82%BF%E3%82%B7%E3%83%BC%E3%82%AF%E3%83%AC%E3%83%83%E3%83%88%E3%82%92%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AE%E5%85%AC%E9%96%8B%E9%8D%B5%E3%81%A7%E6%9A%97%E5%8F%B7%E5%8C%96%E3%81%97%E3%81%A6%E9%80%81%E3%82%8B\" aria-hidden=\"true\"></a> プリマスタシークレットをサーバーの公開鍵で暗号化して送る</h2>\n<p data-line=\"97\" class=\"code-line\">サーバー証明書にはサーバーの公開鍵が含まれているので、その鍵でプリマスタシークレットを暗号化してサーバーに送る。</p>\n<h2 id=\"%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%8C%E7%A7%98%E5%AF%86%E9%8D%B5%E3%81%A7%E5%BE%A9%E5%8F%B7%E3%81%99%E3%82%8B\" data-line=\"99\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%8C%E7%A7%98%E5%AF%86%E9%8D%B5%E3%81%A7%E5%BE%A9%E5%8F%B7%E3%81%99%E3%82%8B\" aria-hidden=\"true\"></a> サーバーが秘密鍵で復号する</h2>\n<p data-line=\"101\" class=\"code-line\">はい、復号します。そして、プリマスタシークレットを利用して共通鍵を作成する。以降、この共通鍵によって通信を暗号化/復号する。共通鍵を通信で送受信しなくても良いというのがミソ。</p>\n<p data-line=\"103\" class=\"code-line\">で、私は別に共通鍵はまんまプリマスタシークレットを使えばいいじゃないと思ったのだけれど、それでも暗号が破られるということではないみたい。ただ単に実用上の理由で共通鍵を作っているということらしい。細かくは調べていないけれど、共通鍵は複数作り場所によって利用する共通鍵が異なるみたい。</p>\n<h2 id=\"%E6%9A%97%E5%8F%B7%E5%8C%96%E3%81%95%E3%82%8C%E3%81%9F%E9%80%9A%E4%BF%A1%E3%81%8C%E9%96%8B%E5%A7%8B%E3%81%95%E3%82%8C%E3%82%8B\" data-line=\"105\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E6%9A%97%E5%8F%B7%E5%8C%96%E3%81%95%E3%82%8C%E3%81%9F%E9%80%9A%E4%BF%A1%E3%81%8C%E9%96%8B%E5%A7%8B%E3%81%95%E3%82%8C%E3%82%8B\" aria-hidden=\"true\"></a> 暗号化された通信が開始される</h2>\n<p data-line=\"107\" class=\"code-line\">以降、共通鍵で暗号化されたデータが飛ぶようになる。</p>\n<h1 id=\"https-%E3%81%AE%E6%94%B9%E7%AB%84%E6%A4%9C%E7%9F%A5\" data-line=\"109\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#https-%E3%81%AE%E6%94%B9%E7%AB%84%E6%A4%9C%E7%9F%A5\" aria-hidden=\"true\"></a> HTTPS の改竄検知</h1>\n<p data-line=\"111\" class=\"code-line\">通信で送信するデータ + 共通鍵 を利用して、MAC (Message Authentication Code) というハッシュ値を計算する。そして、データと一緒にその MAC もおくる。</p>\n<p data-line=\"113\" class=\"code-line\">受信側は受け取ったデータと手元の共通鍵を利用して MAC を計算する。そして受け取った MAC と一致するかを見るということ。</p>\n<h1 id=\"faq-(rsa-%E9%8D%B5%E4%BA%A4%E6%8F%9B%E3%81%AE%E5%89%8D%E6%8F%90)\" data-line=\"115\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#faq-(rsa-%E9%8D%B5%E4%BA%A4%E6%8F%9B%E3%81%AE%E5%89%8D%E6%8F%90)\" aria-hidden=\"true\"></a> FAQ (RSA 鍵交換の前提)</h1>\n<h2 id=\"%E6%9C%AC%E7%89%A9%E3%81%AE%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%82%92%E5%81%BD%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AB%E8%A8%AD%E7%BD%AE%E3%81%99%E3%82%8C%E3%81%B0%E5%81%BD%E8%A3%85%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B\" data-line=\"117\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E6%9C%AC%E7%89%A9%E3%81%AE%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%82%92%E5%81%BD%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AB%E8%A8%AD%E7%BD%AE%E3%81%99%E3%82%8C%E3%81%B0%E5%81%BD%E8%A3%85%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B\" aria-hidden=\"true\"></a> 本物のサーバー証明書を偽サーバーに設置すれば偽装できるか</h2>\n<p data-line=\"119\" class=\"code-line\">できない。偽サーバーは本物サーバーの秘密鍵を知らないので、復号してプリマスタシークレットを得ることができない。つまり共通鍵を手元で作れないので、</p>\n<blockquote data-line=\"121\" class=\"code-line\">\n<p data-line=\"121\" class=\"code-line\">サーバーが秘密鍵で復号する</p>\n</blockquote>\n<p data-line=\"123\" class=\"code-line\">の箇所でハンドシェイクに失敗する。</p>\n<h2 id=\"%E6%9C%AC%E7%89%A9%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%81%AE%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%82%92%E6%9B%B8%E3%81%8D%E6%8F%9B%E3%81%88%E3%81%A6%E5%81%BD%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AB%E8%A8%AD%E7%BD%AE%E3%81%99%E3%82%8C%E3%81%B0%E5%81%BD%E8%A3%85%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B\" data-line=\"125\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E6%9C%AC%E7%89%A9%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%81%AE%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%82%92%E6%9B%B8%E3%81%8D%E6%8F%9B%E3%81%88%E3%81%A6%E5%81%BD%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AB%E8%A8%AD%E7%BD%AE%E3%81%99%E3%82%8C%E3%81%B0%E5%81%BD%E8%A3%85%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B\" aria-hidden=\"true\"></a> 本物サーバー証明書のドメインを書き換えて偽サーバーに設置すれば偽装できるか</h2>\n<p data-line=\"127\" class=\"code-line\">証明書のドメインは example.com ではなく attacker.com にする。この場合、</p>\n<blockquote data-line=\"129\" class=\"code-line\">\n<p data-line=\"129\" class=\"code-line\">自分が発行する証明書の内容 (ドメイン名や有効期限) を元にハッシュ値を計算する。また、計算したハッシュ値を CA 自身の秘密鍵を利用して署名します。</p>\n</blockquote>\n<p data-line=\"131\" class=\"code-line\">の通り、証明書を書き換えると偽サーバー証明書が持つハッシュ値と記載内容が一致しなくなるため、クライアント側でのハッシュ値比較フェーズでハンドシェイクに失敗する。</p>\n<h2 id=\"%E5%81%BD%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AE%E6%AD%A3%E8%A6%8F%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%82%92%E5%81%BD%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AB%E8%A8%AD%E7%BD%AE%E3%81%97%E3%81%9D%E3%82%8C%E3%82%92%E8%BF%94%E5%8D%B4%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88%E5%81%BD%E8%A3%85%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B\" data-line=\"133\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%81%BD%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AE%E6%AD%A3%E8%A6%8F%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%82%92%E5%81%BD%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AB%E8%A8%AD%E7%BD%AE%E3%81%97%E3%81%9D%E3%82%8C%E3%82%92%E8%BF%94%E5%8D%B4%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88%E5%81%BD%E8%A3%85%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B\" aria-hidden=\"true\"></a> 偽サーバーの正規証明書を偽サーバーに設置しそれを返却する場合偽装できるか</h2>\n<p data-line=\"135\" class=\"code-line\">証明書のドメインは attacker.com であり、example.com にリクエストを飛ばしたはずなのに返却された証明書のドメインが attacker.com の場合、TLS コンテキストに保存されていた example.com と attacker.com が比較されて当然違うのでハンドシェイクには失敗する。</p>\n<h2 id=\"%E8%AA%8D%E8%A8%BC%E5%B1%80%E3%82%92-os-%E3%81%AB%E4%BF%A1%E9%A0%BC%E6%B8%88%E3%81%BF%E3%81%A8%E3%81%97%E3%81%A6%E7%99%BB%E9%8C%B2%E3%81%95%E3%81%9B%E3%81%9F%E7%8A%B6%E6%85%8B%E3%81%A7%E5%81%BD%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%A7%E6%AD%A3%E8%A6%8F%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AE%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%82%92%E4%BD%9C%E3%82%8A%E6%8F%9B%E3%81%88%E3%81%9F%E5%A0%B4%E5%90%88\" data-line=\"137\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E8%AA%8D%E8%A8%BC%E5%B1%80%E3%82%92-os-%E3%81%AB%E4%BF%A1%E9%A0%BC%E6%B8%88%E3%81%BF%E3%81%A8%E3%81%97%E3%81%A6%E7%99%BB%E9%8C%B2%E3%81%95%E3%81%9B%E3%81%9F%E7%8A%B6%E6%85%8B%E3%81%A7%E5%81%BD%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%A7%E6%AD%A3%E8%A6%8F%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AE%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%82%92%E4%BD%9C%E3%82%8A%E6%8F%9B%E3%81%88%E3%81%9F%E5%A0%B4%E5%90%88\" aria-hidden=\"true\"></a> 認証局を OS に信頼済みとして登録させた状態で偽サーバーで正規サーバーの証明書を作り換えた場合</h2>\n<p data-line=\"139\" class=\"code-line\">ピンニングしていない場合終わりです。</p>\n<p data-line=\"141\" class=\"code-line\">まず、この VPN (実体は VPN の顔をした MITM Proxy) を使うならこの CA を信頼してね。と言って OS に信頼済みとして認識させる。クライアント - VPN - exaple.com という経路上で、まずクライアントからのリクエストを VPN が受け取って、そのまま example.com へ飛ばす (この際はまだ中身は見れない)。そして、example.com は VPN にサーバー証明書を返却する。VPN は偽証明書を生成する。</p>\n<blockquote data-line=\"143\" class=\"code-line\">\n<ul data-line=\"143\" class=\"code-line\">\n<li data-line=\"143\" class=\"code-line\">ドメイン</li>\n<li data-line=\"144\" class=\"code-line\">有効期限</li>\n<li data-line=\"145\" class=\"code-line\">発行主 (認証局/CA)</li>\n<li data-line=\"146\" class=\"code-line\">サーバー公開鍵</li>\n</ul>\n</blockquote>\n<p data-line=\"148\" class=\"code-line\">サーバー証明書の中身のうち、上記の発行主、サーバー公開鍵を VPN のものにぬるっとすり替える。また、当然電子署名も VPN のものでし直す。そしてこの証明書をクライアントに返す。クライアントは VPN の公開鍵を使ってプリマスタシークレットを暗号化して送ってくるので、VPN の秘密鍵で復号して共通鍵作ってゲームオーバーです。あとは全部覗き見し放題。</p>\n<p data-line=\"150\" class=\"code-line\">ピンニングしていれば、ユーザーが勝手に VPN 入れて信頼させたとしてもアプリケーション側でその CA を許さないという前提になっているので問題ない。</p>\n<h1 id=\"%E3%83%9C%E3%83%87%E3%82%A3%E3%82%84%E3%83%98%E3%83%83%E3%83%80%E3%83%BC%E3%81%AE%E6%9A%97%E5%8F%B7%E5%8C%96%E3%81%AF%E5%BF%85%E8%A6%81%E3%81%AA%E3%81%AE%E3%81%8B\" data-line=\"152\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%83%9C%E3%83%87%E3%82%A3%E3%82%84%E3%83%98%E3%83%83%E3%83%80%E3%83%BC%E3%81%AE%E6%9A%97%E5%8F%B7%E5%8C%96%E3%81%AF%E5%BF%85%E8%A6%81%E3%81%AA%E3%81%AE%E3%81%8B\" aria-hidden=\"true\"></a> ボディやヘッダーの暗号化は必要なのか</h1>\n<p data-line=\"154\" class=\"code-line\">例えば HTTPS の終端が LB の場合、LB -&gt; application server の経路は平文で通信が行われる。その場合は意図せぬタイミングでログに秘匿データが漏れてしまったり、クラウドのマルウェア感染の影響を受けたり、クラウドベンダー自体が悪意がある場合に問題がある。</p>\n<p data-line=\"156\" class=\"code-line\">LB -&gt; application server を HTTPS でやり取りさせる場合。こうしてしまえば、あとは LB で復号化されてから再度暗号化されるまでの間にログに出ちゃったりする可能性があるくらいになる。</p>\n<p data-line=\"158\" class=\"code-line\">ボディ / ヘッダーを暗号化してしまえば、復号するタイミングは application server に限定できるので、これさえも防げる。あとは application server で復号したあとはすぐに GC に回収されるようグローバル変数で持ったりするようなことはしないよう注意したり、ログに出さないようにしたりすれば良さそう。</p>\n<p data-line=\"160\" class=\"code-line\">ただヘッダーまで暗号化してしまうと LB がルーティングに利用する情報まで隠れてしまうので、ボディのみという割り切りになることも多いみたい。</p>\n",
      "date": "2026-01-06",
      "tags": [
        "Network"
      ],
      "readTime": "10 min",
      "published": true,
      "source": "local"
    },
    {
      "id": "2026-01-05",
      "title": "目標通りにゲーム開発をし始めた",
      "excerpt": "ゲーム開発をし始めたし、ちゃんとブログを書いている。偉い。",
      "html": "<h1 id=\"%E3%82%B2%E3%83%BC%E3%83%A0%E9%96%8B%E7%99%BA%E3%82%92%E3%81%97%E5%A7%8B%E3%82%81%E3%81%9F\" data-line=\"1\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%B2%E3%83%BC%E3%83%A0%E9%96%8B%E7%99%BA%E3%82%92%E3%81%97%E5%A7%8B%E3%82%81%E3%81%9F\" aria-hidden=\"true\"></a> ゲーム開発をし始めた</h1>\n<p data-line=\"3\" class=\"code-line\"><img src=\"/images/blog/2026-01-05/game-screen.png\" alt=\"game\" class=\"md-img\" loading=\"lazy\" /></p>\n<p data-line=\"5\" class=\"code-line\">と言ってもあんまり進んでいない。HD-2D テイストな画面をどれくらい安く作れるか、PoC 的な作業をしていました。</p>\n<p data-line=\"7\" class=\"code-line\">ゲーム開発をする上で、自分にとっての最大の障害は <strong>デザイナー業</strong> でした。しかし、画像生成 AI の精度がどんどん高くなっているため、それなりの画像を超低コストで得られるようになりました。権利関係をしっかり見た上で使わないといけないですが... X でもよくデザイナーの方が怒っているのを見かける。まぁそりゃそうだよなと思います。</p>\n<hr data-line=\"9\" class=\"code-line\" />\n<p data-line=\"11\" class=\"code-line\">話を戻しますが、画像のドラゴンも AI で生成したもので、</p>\n<p data-line=\"13\" class=\"code-line\"><span class=\"embed-block zenn-embedded zenn-embedded-card\"><iframe id=\"zenn-embedded__e77a0d659e6a9\" src=\"https://embed.zenn.studio/card#zenn-embedded__e77a0d659e6a9\" data-content=\"https%3A%2F%2Fwww.pixellab.ai%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span><a href=\"https://www.pixellab.ai/\" style=\"display:none\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.pixellab.ai/</a></p>\n<p data-line=\"15\" class=\"code-line\">こちらのサービスを利用しました。画像生成の際には、設定項目で解像度などが指定可能です。また、非常に良いなと思ったのは 8 方向の画像を生成してくれる点です。ゲーム操作によって向きが変わった際に切り替える用の Texture まで吐いてくれるということです。</p>\n<p data-line=\"17\" class=\"code-line\"><span class=\"embed-block zenn-embedded zenn-embedded-card\"><iframe id=\"zenn-embedded__f689d6b2363b1\" src=\"https://embed.zenn.studio/card#zenn-embedded__f689d6b2363b1\" data-content=\"https%3A%2F%2Fwww.spritefusion.com%2Fpixel-snapper\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span><a href=\"https://www.spritefusion.com/pixel-snapper\" style=\"display:none\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.spritefusion.com/pixel-snapper</a></p>\n<p data-line=\"19\" class=\"code-line\">またこのサービスも非常に良かった。入力した画像を pixel perfect な画像をに変換してくれるサービスです。</p>\n<p data-line=\"21\" class=\"code-line\">HD-2D の肝はポストプロセスやシェーダーだと思っているので、pixel perfect な画像でないと雰囲気もクソもないです。</p>\n<p data-line=\"23\" class=\"code-line\"><span class=\"embed-block zenn-embedded zenn-embedded-card\"><iframe id=\"zenn-embedded__efd005fc47add\" src=\"https://embed.zenn.studio/card#zenn-embedded__efd005fc47add\" data-content=\"https%3A%2F%2Fgithub.com%2Fazagaya%2Flaigter\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span><a href=\"https://github.com/azagaya/laigter\" style=\"display:none\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/azagaya/laigter</a></p>\n<p data-line=\"25\" class=\"code-line\">あとはこれ。画像のフィールドですが、モックなので Terrain にタイルマップを貼り付けただけです。このタイルマップも AI で生成したものなのですが、この画像を元に法線マップを作成してくれるモジュールです。</p>\n<p data-line=\"27\" class=\"code-line\">ただし、あんまり品質が高くないので</p>\n<p data-line=\"29\" class=\"code-line\"><span class=\"embed-block zenn-embedded zenn-embedded-card\"><iframe id=\"zenn-embedded__34e5a25b78fb\" src=\"https://embed.zenn.studio/card#zenn-embedded__34e5a25b78fb\" data-content=\"https%3A%2F%2Fcpetry.github.io%2FNormalMap-Online%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span><a href=\"https://cpetry.github.io/NormalMap-Online/\" style=\"display:none\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://cpetry.github.io/NormalMap-Online/</a></p>\n<p data-line=\"31\" class=\"code-line\">この辺りに乗り換えるかも。</p>\n<hr data-line=\"33\" class=\"code-line\" />\n<p data-line=\"35\" class=\"code-line\">あと重要だったのはポストプロセスです。昔と違って、今は URP で始めると勝手にポストプロセスも導入されてくれるぽい。</p>\n<p data-line=\"37\" class=\"code-line\">しかも新しくシーンを作ると Global Volume も作られた状態になってくれるようで、あとはコンポーネントのシークバーを右へ左へ動かすだけで良かった。本当に便利だ... とはいえ開発していくと物足らなくなって自分で色々と書くのでしょうが。</p>\n<p data-line=\"39\" class=\"code-line\">また、キャラクターの影に対してはシェーダーをあてる必要がありましたが</p>\n<p data-line=\"41\" class=\"code-line\"><span class=\"embed-block zenn-embedded zenn-embedded-card\"><iframe id=\"zenn-embedded__4c4c592ef3263\" src=\"https://embed.zenn.studio/card#zenn-embedded__4c4c592ef3263\" data-content=\"https%3A%2F%2Fgist.github.com%2Fgameshalico%2F27b09a2476a72737e6a8a1b090259f9c\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span><a href=\"https://gist.github.com/gameshalico/27b09a2476a72737e6a8a1b090259f9c\" style=\"display:none\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://gist.github.com/gameshalico/27b09a2476a72737e6a8a1b090259f9c</a></p>\n<p data-line=\"43\" class=\"code-line\">この辺りを参考にさせてもらいつつ書きました。</p>\n<hr data-line=\"45\" class=\"code-line\" />\n<p data-line=\"47\" class=\"code-line\">また進捗はちょくちょく共有しようと思います。今日は以上です。</p>\n",
      "date": "2026-01-05",
      "tags": [
        "Game",
        "Unity",
        "C#"
      ],
      "readTime": "5 min",
      "published": true,
      "source": "local"
    },
    {
      "id": "2026-01-01-new-year",
      "title": "昨年を振り返りつつ新年の抱負を書く",
      "excerpt": "何をする 1 年にするか... 果たして育児と並行してどれくらいエンジニアリングできるんだろうか。",
      "html": "<h1 id=\"%E5%8E%BB%E5%B9%B4%E3%81%AE%E6%8C%AF%E3%82%8A%E8%BF%94%E3%82%8A\" data-line=\"1\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%8E%BB%E5%B9%B4%E3%81%AE%E6%8C%AF%E3%82%8A%E8%BF%94%E3%82%8A\" aria-hidden=\"true\"></a> 去年の振り返り</h1>\n<h2 id=\"%E3%81%8A%E4%BB%95%E4%BA%8B\" data-line=\"3\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%81%8A%E4%BB%95%E4%BA%8B\" aria-hidden=\"true\"></a> お仕事</h2>\n<p data-line=\"5\" class=\"code-line\">相変わらず DeNA で働いています。チームを異動し、現在は Ruby on Rails で書かれたゲームサーバーの開発/運用をしています。このゲームサーバーを中心としたエコシステムにおいて、広く浅く様々な経験を積めたと感じています。</p>\n<ul data-line=\"7\" class=\"code-line\">\n<li data-line=\"7\" class=\"code-line\">daemon の実装</li>\n<li data-line=\"8\" class=\"code-line\">SQL の改善</li>\n<li data-line=\"9\" class=\"code-line\">重いクエリをキャッシュへオフロード</li>\n<li data-line=\"10\" class=\"code-line\">Rails アプデ</li>\n<li data-line=\"11\" class=\"code-line\">Queue のリプレース</li>\n<li data-line=\"12\" class=\"code-line\">内製 gem の改修</li>\n<li data-line=\"13\" class=\"code-line\">不具合修正系</li>\n</ul>\n<p data-line=\"15\" class=\"code-line\">ざっくりとこんな感じのことをやっていたような...実はあんまりビジネスロジック的な部分は書いていないんですよね。どちらかというと足元を整える系のお仕事をすることが多かったです。</p>\n<p data-line=\"17\" class=\"code-line\">印象に残っているのは Rails アプデですかね。7.0 -&gt; 7.1 のアプデをしたのですが、ActiveRecord の各種メソッドの中身にそれなりに変更が入っていたため、ActiveRecord をがっつり参照している内製の ActiveRecord ファサードな gem が火を吹いて非常に大変でした。あとは serialize format が 7.1 系になった影響で、Parallel gem 周りで不具合が起こったり、モンキーパッチの影響で Schema Cache の導入に苦戦したりなど。初陣だったのもあるけれど、明らかに後続の 7.2, 8.0 系へのアップデート担当者より大変だった気がするんだよなぁ...</p>\n<p data-line=\"19\" class=\"code-line\">こんな感じの基盤系の業務は自分の嗜好にも合致していて楽しいのですが、個人的には運用系のスキルをより育てていきたいという思いがあります。うちのチームは障害が起きたら (基本は) 遅くとも数十分以内に鎮火させられる程度には運用のプロフェッショナル集団です。自分はまだサーバーサイドのこういった運用スキルには課題がそれなりにある認識です。監視や調査のスキルをより育てていく必要性を感じています。</p>\n<p data-line=\"21\" class=\"code-line\">次にクライアントエンジニアリングのお話。クライアントサイドからは少し離れるつもりだったのですが、なんだかんだ結構やりました。タスクベースで細々と差分を積んでいました。サーバーサイドチームとクライアントサイドチームの I/F になるような動きは自分にしかできない立ち回りなので、これからもこの強みは活かしていきたいと思います。</p>\n<p data-line=\"23\" class=\"code-line\">また、C++ で SDK を書いたりもしました。レガシィシステムのリファクタリングなので、非常に注意を払いながら進めました。結果として 1 年以上前に埋め込まれていたバグを修正したり、バグの要因となっていたマクロを消すなど、それなりに成果が得られたと思います。にも関わらず、この辺りはあまり評価してもらえなかったのは心残りです... DeNA の評価制度と自分のキャリアの積み方は微妙にマッチしていなくて、すり合わせがうまくいかないことが稀に良くある。</p>\n<p data-line=\"25\" class=\"code-line\">自己評価で言うと、昨年は 10 段階評価で言うと 7 くらいの頑張りだった気がします。2026 年はもっと頑張るぞ。</p>\n<h2 id=\"%E5%89%AF%E6%A5%AD\" data-line=\"27\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%89%AF%E6%A5%AD\" aria-hidden=\"true\"></a> 副業</h2>\n<p data-line=\"29\" class=\"code-line\">基本は C# + Unity を触っていました。ただ、サーバー品質があまり高くないので、サーバーサイドも多少コードを追ったり、レビューに入ったりせざるを得ない感じでした。NestJS で書かれているアプリケーションサーバーで、書き心地は個人的には嫌いじゃないです。</p>\n<p data-line=\"31\" class=\"code-line\">Unity は主に基盤の実装が多かったように思います。</p>\n<ul data-line=\"33\" class=\"code-line\">\n<li data-line=\"33\" class=\"code-line\">Addressables I/F を利用したミドルウェア</li>\n<li data-line=\"34\" class=\"code-line\">AssetBundle パイプライン</li>\n<li data-line=\"35\" class=\"code-line\">UnityIAP I/F を利用したミドルウェア</li>\n<li data-line=\"36\" class=\"code-line\">HTTP Client を利用した API 基盤の改修</li>\n<li data-line=\"37\" class=\"code-line\">エラーハンドリングにおけるサーバーサイドを含めた設計とクライアントサイドの実装</li>\n<li data-line=\"38\" class=\"code-line\">クライアントサイドの全体的な設計</li>\n</ul>\n<p data-line=\"40\" class=\"code-line\">正直クライアントの実力が伸びた感覚はないのが少し残念 (まぁ副業の目的はあくまでお金なので良いっちゃあ良い)。とはいえ、それなりに時間を費やしているので、この辺りも踏まえてサーバー側の実装をやれるよう根回ししていきたい。直接マネージャーに言ってみるのが良さそうかなぁ... サーバー側もやるということになれば、単価交渉をしてもいいかもしれないですな。</p>\n<h2 id=\"%E5%AE%B6%E5%BA%AD\" data-line=\"42\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%AE%B6%E5%BA%AD\" aria-hidden=\"true\"></a> 家庭</h2>\n<p data-line=\"44\" class=\"code-line\">妻の妊娠が発覚し、今は安定期に入ったところです。嬉しい!!! 育休のことを考え始めているが、2026 年度末まで取ろうかなと思っているところ。補助金の話や出産前の準備、出産後の色々など考えることが山積み... 少しずつこっちも消化していかなければ。母子ともに無事に産まれてくれることを心から願っています。</p>\n<h2 id=\"%E8%B6%A3%E5%91%B3\" data-line=\"46\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E8%B6%A3%E5%91%B3\" aria-hidden=\"true\"></a> 趣味</h2>\n<p data-line=\"48\" class=\"code-line\">2025 年からプライベートでコードを書く時間が格段に増え増田。ゲーム熱が少し冷めた結果、持て余した時間をコーディングに費やすようになったからかな。色々やった</p>\n<ul data-line=\"50\" class=\"code-line\">\n<li data-line=\"50\" class=\"code-line\">Unity 向け OSS の作成</li>\n<li data-line=\"51\" class=\"code-line\">この homepage 作成</li>\n<li data-line=\"52\" class=\"code-line\">ReactNative + Hono RPC + Hono + Deno + Supabase なマルチプラットフォーム対応なアプリケーション開発 (頓挫)</li>\n<li data-line=\"53\" class=\"code-line\">dotfiles の作成</li>\n<li data-line=\"54\" class=\"code-line\">Zig のお勉強</li>\n<li data-line=\"55\" class=\"code-line\">AI のお勉強</li>\n</ul>\n<p data-line=\"57\" class=\"code-line\">など？とはいえ、まともにリリースしたものは Unity 向け OSS の RectPop くらいか...まぁしゃあないね。</p>\n<p data-line=\"59\" class=\"code-line\"><span class=\"embed-block zenn-embedded zenn-embedded-card\"><iframe id=\"zenn-embedded__6ac67b715ced5\" src=\"https://embed.zenn.studio/card#zenn-embedded__6ac67b715ced5\" data-content=\"https%3A%2F%2Fgithub.com%2Fhashiiiii%2FRectPop\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span><a href=\"https://github.com/hashiiiii/RectPop\" style=\"display:none\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/hashiiiii/RectPop</a></p>\n<p data-line=\"61\" class=\"code-line\">来年はより頑張ろう。</p>\n<h1 id=\"%E4%BB%8A%E5%B9%B4%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\" data-line=\"63\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E4%BB%8A%E5%B9%B4%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\" aria-hidden=\"true\"></a> 今年やりたいこと</h1>\n<p data-line=\"65\" class=\"code-line\">一応、これを新年の抱負とする。</p>\n<h2 id=\"%E3%81%8A%E4%BB%95%E4%BA%8B-1\" data-line=\"67\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%81%8A%E4%BB%95%E4%BA%8B-1\" aria-hidden=\"true\"></a> お仕事</h2>\n<p data-line=\"69\" class=\"code-line\">6 月までにやることにはなっちゃうが、</p>\n<ul data-line=\"71\" class=\"code-line\">\n<li data-line=\"71\" class=\"code-line\">Queue のリプレースを完遂する</li>\n<li data-line=\"72\" class=\"code-line\">AI 関連の成果物をプロジェクト向けにリリースする</li>\n<li data-line=\"73\" class=\"code-line\">Proxy サーバーの改修</li>\n</ul>\n<p data-line=\"75\" class=\"code-line\">こんな感じかなぁ...他に細々したタスクは何かとやることになるだろうけれど。今季はアプリケーションサーバーに手を入れることはあまりしないんだろうな。</p>\n<h2 id=\"%E5%89%AF%E6%A5%AD-1\" data-line=\"77\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%89%AF%E6%A5%AD-1\" aria-hidden=\"true\"></a> 副業</h2>\n<ul data-line=\"79\" class=\"code-line\">\n<li data-line=\"79\" class=\"code-line\">サーバーを書く</li>\n<li data-line=\"80\" class=\"code-line\">クライアントの基盤周りをやる (本気で UI 周りはやりたくない...)</li>\n<li data-line=\"81\" class=\"code-line\">単価を交渉する</li>\n</ul>\n<h2 id=\"%E5%AE%B6%E5%BA%AD-1\" data-line=\"83\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%AE%B6%E5%BA%AD-1\" aria-hidden=\"true\"></a> 家庭</h2>\n<p data-line=\"85\" class=\"code-line\">子供と妻を第一。お仕事を含むその他のことは鉄の意思で優先度低くを徹底する。育児含めライフイベントの中でも特に大変なのだろうけれど、すごく楽しみでもある。本当に可愛いんだろうな。もちろん愛犬うにちゃんもこれまで通り大切にします。</p>\n<p data-line=\"87\" class=\"code-line\">今月中には性別も分かるだろうから、名前を考え始めたりしないといけない。自分の名前が長くて画数も多くて大変なので (だからと言って気に入っていないわけではない。普通。) 子供の名前は短めがいいな。</p>\n<h2 id=\"%E8%B6%A3%E5%91%B3-1\" data-line=\"89\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E8%B6%A3%E5%91%B3-1\" aria-hidden=\"true\"></a> 趣味</h2>\n<p data-line=\"91\" class=\"code-line\">去年やりたいことリストに入っていた物を列挙する。触ったものにチェックを入れてみる。</p>\n<ul class=\"contains-task-list code-line\" data-line=\"93\">\n<li class=\"task-list-item enabled code-line\" data-line=\"93\"><input class=\"task-list-item-checkbox\" type=\"checkbox\" /> Rust</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"94\"><input class=\"task-list-item-checkbox\" checked type=\"checkbox\" /> F#</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"95\"><input class=\"task-list-item-checkbox\" type=\"checkbox\" /> UnrealEngine5</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"96\"><input class=\"task-list-item-checkbox\" type=\"checkbox\" /> DOTS</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"97\"><input class=\"task-list-item-checkbox\" type=\"checkbox\" /> ECS</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"98\"><input class=\"task-list-item-checkbox\" type=\"checkbox\" /> Netcode</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"99\"><input class=\"task-list-item-checkbox\" type=\"checkbox\" /> Photon</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"100\"><input class=\"task-list-item-checkbox\" checked type=\"checkbox\" /> Vercel</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"101\"><input class=\"task-list-item-checkbox\" checked type=\"checkbox\" /> Kotlin</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"102\"><input class=\"task-list-item-checkbox\" type=\"checkbox\" /> Swift</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"103\"><input class=\"task-list-item-checkbox\" type=\"checkbox\" /> Flutter</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"104\"><input class=\"task-list-item-checkbox\" checked type=\"checkbox\" /> Go</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"105\"><input class=\"task-list-item-checkbox\" checked type=\"checkbox\" /> Ruby (Ruby on Rails)</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"106\"><input class=\"task-list-item-checkbox\" type=\"checkbox\" /> DuckDB-Wasm</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"107\"><input class=\"task-list-item-checkbox\" checked type=\"checkbox\" /> TDD</li>\n</ul>\n<p data-line=\"109\" class=\"code-line\">全然やってない...ただまぁ他に色々触ったので良いっちゃあ良いんだけどね。一度棚卸しをしてみる。</p>\n<ul data-line=\"111\" class=\"code-line\">\n<li data-line=\"111\" class=\"code-line\">Rust</li>\n<li data-line=\"112\" class=\"code-line\">F#</li>\n<li data-line=\"113\" class=\"code-line\">DOTS</li>\n<li data-line=\"114\" class=\"code-line\">ECS</li>\n<li data-line=\"115\" class=\"code-line\">ReactNative</li>\n<li data-line=\"116\" class=\"code-line\">DuckDB-Wasm</li>\n</ul>\n<p data-line=\"118\" class=\"code-line\"><em>だいぶシンプルになったな。</em></p>\n<p data-line=\"120\" class=\"code-line\">今年触ってみたい (触ったことがあるが、理解を深めたいというものを含む) 技術や物事を加えた物を書き出しておく。あまり深く考えず羅列する。例えば ReactNative と Typescript が並列の関係で並んだりするが、気にしない。</p>\n<ul data-line=\"122\" class=\"code-line\">\n<li data-line=\"122\" class=\"code-line\">Rust</li>\n<li data-line=\"123\" class=\"code-line\">F#</li>\n<li data-line=\"124\" class=\"code-line\">DOTS</li>\n<li data-line=\"125\" class=\"code-line\">ECS</li>\n<li data-line=\"126\" class=\"code-line\">ReactNative</li>\n<li data-line=\"127\" class=\"code-line\">DuckDB-Wasm</li>\n<li data-line=\"128\" class=\"code-line\">Ruby</li>\n<li data-line=\"129\" class=\"code-line\">Ruby on Rails</li>\n<li data-line=\"130\" class=\"code-line\">MySQL</li>\n<li data-line=\"131\" class=\"code-line\">PostgreSQL</li>\n<li data-line=\"132\" class=\"code-line\">NoSQL</li>\n<li data-line=\"133\" class=\"code-line\">NewSQL</li>\n<li data-line=\"134\" class=\"code-line\">Typescript</li>\n<li data-line=\"135\" class=\"code-line\">Hono</li>\n<li data-line=\"136\" class=\"code-line\">Bun</li>\n<li data-line=\"137\" class=\"code-line\">TCP/IP</li>\n<li data-line=\"138\" class=\"code-line\">SSL/TLS</li>\n<li data-line=\"139\" class=\"code-line\">アルゴリズム</li>\n<li data-line=\"140\" class=\"code-line\">Terraform</li>\n<li data-line=\"141\" class=\"code-line\">HLSL</li>\n<li data-line=\"142\" class=\"code-line\">Vim</li>\n<li data-line=\"143\" class=\"code-line\">Claude Code</li>\n<li data-line=\"144\" class=\"code-line\">MoonBit</li>\n<li data-line=\"145\" class=\"code-line\">WebAssembly</li>\n<li data-line=\"146\" class=\"code-line\">Unity</li>\n</ul>\n<p data-line=\"148\" class=\"code-line\">全部触れるとは思っていないけれど、この中を中心に触っていく。</p>\n<h3 id=\"%E7%9B%AE%E6%A8%99\" data-line=\"150\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E7%9B%AE%E6%A8%99\" aria-hidden=\"true\"></a> 目標</h3>\n<p data-line=\"152\" class=\"code-line\">育児もあるし難しいかもしれないけれど...</p>\n<ul data-line=\"154\" class=\"code-line\">\n<li data-line=\"154\" class=\"code-line\">OSS 3 つ</li>\n<li data-line=\"155\" class=\"code-line\">技術書 24 冊</li>\n<li data-line=\"156\" class=\"code-line\">ブログを週 1 回以上更新する</li>\n<li data-line=\"157\" class=\"code-line\">上に列挙した触りたい技術を半分は触る (必ず成果物とセットにする)</li>\n<li data-line=\"158\" class=\"code-line\">ゲームを 1 本リリースする</li>\n</ul>\n<p data-line=\"160\" class=\"code-line\">特に大変なのはなんだろう？ゲームのリリースかな。アクアリウム系の放置型ゲームを作りたいと思っているんだけれど、どういうふうに作るのが面白そうかなぁと悩んでいる。この悩んでいる時間が楽しいんですけどね。</p>\n<hr data-line=\"162\" class=\"code-line\" />\n<p data-line=\"164\" class=\"code-line\">ざっと書きましたが、こんな感じでやっていこうと思います。本年も hashiiiii をよろしくお願いします!!!</p>\n",
      "date": "2026-01-01",
      "tags": [
        "Random"
      ],
      "readTime": "10 min",
      "published": true,
      "source": "local"
    },
    {
      "id": "2025-12-28-mastering-tcp-ip",
      "title": "マスタリング TCP / IP 入門編 第 5 版 を読んだ",
      "excerpt": "新卒以来 6 年以上積んでいたであろう入門書を読んだ。",
      "html": "<h1 id=\"%E5%89%8D%E7%BD%AE%E3%81%8D\" data-line=\"1\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%89%8D%E7%BD%AE%E3%81%8D\" aria-hidden=\"true\"></a> 前置き</h1>\n<p data-line=\"3\" class=\"code-line\">マスタリング TCP / IP 入門編 <strong>第 5 版</strong> を読んだので章単位で要点をまとめます。ちなみにこの本は 2012 年に書かれたもので、購入した時点では既に第 6 版が出ていたっぽい...まぁいいでしょう。</p>\n<h1 id=\"1-%E7%AB%A0\" data-line=\"5\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#1-%E7%AB%A0\" aria-hidden=\"true\"></a> 1 章</h1>\n<p data-line=\"7\" class=\"code-line\">OSI 参照モデルというものがある。これは通信に必要な機能を 7 つのレイヤーに分けてモデル化したもの。それぞれのレイヤーごとにプロトコルが存在する。</p>\n<p data-line=\"9\" class=\"code-line\">通信方式には回線交換方式とパケット交換方式がある。前者の場合は回線の数分のコンピューターしか通信ができないのに対して、後者は ONU 内部でキューに対してパケットが enqueue される。こうすることで複数のコンピューターからのパケットをキューに詰めて非同期で ONU から基地局に向けて通信が行われる。</p>\n<h2 id=\"%E6%B7%B1%E6%8E%98%E3%82%8A%E3%81%97%E3%81%A6%E3%81%BF%E3%81%9F\" data-line=\"11\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E6%B7%B1%E6%8E%98%E3%82%8A%E3%81%97%E3%81%A6%E3%81%BF%E3%81%9F\" aria-hidden=\"true\"></a> 深掘りしてみた</h2>\n<p data-line=\"13\" class=\"code-line\">実際に日本在住の A さんからアメリカ在住の B さんにどうやってデータが届くのかをざっくりでいいから理解する。</p>\n<p data-line=\"15\" class=\"code-line\">コンピューター -&gt; ルーター: PC などによって送信される 0, 1 のバイナリデータを変調することで、波 (電波) としてルーターに届く。</p>\n<p data-line=\"17\" class=\"code-line\">ルーター -&gt; ONU: ここは LAN ケーブル (8 本 4 ペアの銅線) で繋がっている。また、下りの波 (受信データ) と上りの波 (送信データ) が混ざらないようにエコーキャンセル (上り下りで波が衝突するため、波の合成 / 分解を利用して必要な波長を計算する。) によって聞き分けている。</p>\n<p data-line=\"19\" class=\"code-line\">ONU -&gt; 基地局: ONU でパケットはキューイングされ非同期で基地局に向かって光ファイバーの中を伝っていく。基地局までの間の光ファイバーの中は上りと下りで波長によって衝突が起きないようになっている。PON (passive optical network) というらしい。</p>\n<p data-line=\"21\" class=\"code-line\">基地局 -&gt; 各種ルーター: 地域のルーター, 東京のルーター, 国際通信用ルーターと、数十回ほどルーターを経由する。基地局から先はコアネットワークという呼ばれる部分で、PON ではなく専用線でやり取りされる。</p>\n<p data-line=\"23\" class=\"code-line\">各種ルーター -&gt; 海底ケーブル: この光は中継機を伝いつつアメリカまで届く。中継機の中にはエルビウムというレアアースが埋め込んであって、受信した光と同じ波長の光を放ってくれるらしい。</p>\n<p data-line=\"25\" class=\"code-line\">海底ケーブル -&gt; B さんのコンピュータ: これまでのプロセスの逆。</p>\n<h1 id=\"2-%E7%AB%A0\" data-line=\"27\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#2-%E7%AB%A0\" aria-hidden=\"true\"></a> 2 章</h1>\n<p data-line=\"29\" class=\"code-line\">現代では 1 章で習った OSI ではなく TCP / IP が普及している。また、TCP / IP は OSI の参照モデルにおけるレイヤーに対応するものとして、</p>\n<table data-line=\"31\" class=\"code-line\">\n<thead data-line=\"31\" class=\"code-line\">\n<tr data-line=\"31\" class=\"code-line\">\n<th>OSI</th>\n<th>TCP / IP</th>\n</tr>\n</thead>\n<tbody data-line=\"33\" class=\"code-line\">\n<tr data-line=\"33\" class=\"code-line\">\n<td>アプリケーション層</td>\n<td>アプリケーション層</td>\n</tr>\n<tr data-line=\"34\" class=\"code-line\">\n<td>プレゼンテーション層</td>\n<td>アプリケーション層</td>\n</tr>\n<tr data-line=\"35\" class=\"code-line\">\n<td>セッション層</td>\n<td>アプリケーション層</td>\n</tr>\n<tr data-line=\"36\" class=\"code-line\">\n<td>トランスポート層</td>\n<td>トランスポート層</td>\n</tr>\n<tr data-line=\"37\" class=\"code-line\">\n<td>ネットワーク層</td>\n<td>インターネット層</td>\n</tr>\n<tr data-line=\"38\" class=\"code-line\">\n<td>データリンク層</td>\n<td>ネットワークインターフェース層</td>\n</tr>\n<tr data-line=\"39\" class=\"code-line\">\n<td>物理層</td>\n<td>(ハードウェア)</td>\n</tr>\n</tbody>\n</table>\n<p data-line=\"41\" class=\"code-line\">という対応になっているようだ。後述の解説でより分かるが TCP / IP プロトコルは、実際にプロトコルをコンピュータに実装するにはどのようにプログラミングすれば良いかに主眼を置いて考えられている。</p>\n<p data-line=\"43\" class=\"code-line\">ネットワークインターフェース層: デバイスドライバー。ハードウェアである NIC を動かすために、OS とハードウェアの間の橋渡しをするドライバーだと思って良い。</p>\n<p data-line=\"45\" class=\"code-line\">インターネット層: IP プロトコル。コンピュータの OS に組み込まれるもの。</p>\n<p data-line=\"47\" class=\"code-line\">トランスポート層: TCP, UDP。TCP はコネクション型で UDP はコネクションレス型。HTTP/1.1 or HTTP/2 を使うと自動的に TCP を使っていることになる。ちなみに HTTP/3 は QUIC。リアルタイムサーバーである Photon とかだと UDP を使っている。アプリケーションレイヤーのプロトコルは Photon の独自規格である Photon Protocol というものらしい。ちなみに途中でパケットが消失したりすることを許容しないのが TCP。許容するのが UDP。</p>\n<p data-line=\"49\" class=\"code-line\">アプリケーション層: OSI の L5 ~ 7 がここに入る。HTTP, HTML, FTP, SSH など幅広い領域で様々なプロトコルが存在する。</p>\n<h1 id=\"3-%E7%AB%A0\" data-line=\"51\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#3-%E7%AB%A0\" aria-hidden=\"true\"></a> 3 章</h1>\n<h2 id=\"mac-%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9\" data-line=\"53\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#mac-%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9\" aria-hidden=\"true\"></a> MAC アドレス</h2>\n<p data-line=\"55\" class=\"code-line\">NIC に焼き込まれており、ユニークな値 (とされている)。データリンクに接続されているノード (例えば今この記事を書いている MacBookAir) を識別するのに利用されている。仮にユニークじゃなくても同一データリンク内部に存在しなければ大丈夫。</p>\n<h2 id=\"%E3%82%A4%E3%83%BC%E3%82%B5%E3%83%8D%E3%83%83%E3%83%88\" data-line=\"57\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%A4%E3%83%BC%E3%82%B5%E3%83%8D%E3%83%83%E3%83%88\" aria-hidden=\"true\"></a> イーサネット</h2>\n<p data-line=\"59\" class=\"code-line\">有線接続における規格。LAN ケーブル等のもイーサネット規格の一つ。同軸ケーブルや光ファイバーケーブルなどもそれに該当する。LAN ケーブル = イーサネットと勘違いしている場合も多いらしい。</p>\n<h1 id=\"4-%E7%AB%A0\" data-line=\"61\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#4-%E7%AB%A0\" aria-hidden=\"true\"></a> 4 章</h1>\n<p data-line=\"63\" class=\"code-line\">IP の話。IP は L3 ネットワーク層。ネットワーク層とデータリンク層の関係は、仮にホスト A とホスト B で通信する場合、データリンク層はホスト A とルーターの間のイーサネットのような 1 区間の通信を提供する役割。対してネットワーク層はホスト A とホスト B の区間全体の通信をて供する役割。データリンク層は切符、ネットワーク層は旅程表として例えられている。</p>\n<p data-line=\"65\" class=\"code-line\">IP はコネクションレス型。コネクションが必要な場合はトランスポート層で TCP に任せれば良いという話。</p>\n<h2 id=\"ip-%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9\" data-line=\"67\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#ip-%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9\" aria-hidden=\"true\"></a> IP アドレス</h2>\n<p data-line=\"69\" class=\"code-line\">IPv4 は 8bit の正の整数値で表される。IP アドレスはネットワーク部とホスト部に分けられる。ネットワーク部は接続されている全てのセグメントで被らないようにする必要がある。ホストは同一セグメント内で被らないようにする必要がある。</p>\n<p data-line=\"71\" class=\"code-line\">192.168.128.10/24 というのがある場合、192.168.128 がネットワーク部。10 がホスト部。24 は先頭から何 bit までがネットワーク部かを表している。</p>\n<h2 id=\"%E3%83%96%E3%83%AD%E3%83%BC%E3%83%89%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9\" data-line=\"73\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%83%96%E3%83%AD%E3%83%BC%E3%83%89%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%88%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9\" aria-hidden=\"true\"></a> ブロードキャストアドレス</h2>\n<p data-line=\"75\" class=\"code-line\">同一データリンクに接続された全てのホストにパケットを送信するためのアドレス。IP アドレスのホスト部の bit を全て 1 にするとブロードキャストアドレスになる。</p>\n<p data-line=\"77\" class=\"code-line\">ブロードキャストにはローカルブロードキャストとダイレクトブロードキャストがある。前者は、ブロードキャストを行うホストが属するリンク内のホスト全てにパケットを送信する。後者は、指定したネットワーク部に属するホスト全てにパケットを送信する。</p>\n<h2 id=\"cidr\" data-line=\"79\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#cidr\" aria-hidden=\"true\"></a> CIDR</h2>\n<p data-line=\"81\" class=\"code-line\">CIDR はクラスに縛られず、任意の bit 長の IP アドレスを配布可能にする仕様のこと。これまではクラス単位で組織に IP が払い出されていた。クラスはネットワーク部がここまでと決まっているため、実際にはそんなにホストを使わないのに大量確保してしまって無駄になるというケースも多かったらしい。サブネットマスクによって /24 のようにホスト部を決められるようになるとだいぶ無駄も少なくなったらしい。</p>\n<h2 id=\"%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9-%2F-%E3%83%97%E3%83%A9%E3%82%A4%E3%83%99%E3%83%BC%E3%83%88%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9\" data-line=\"83\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9-%2F-%E3%83%97%E3%83%A9%E3%82%A4%E3%83%99%E3%83%BC%E3%83%88%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9\" aria-hidden=\"true\"></a> グローバルアドレス / プライベートアドレス</h2>\n<p data-line=\"85\" class=\"code-line\">これはここからここまでが private というふうに決まっている。また、private to global な変換技術を NAT というらしい。</p>\n<h2 id=\"mtu\" data-line=\"87\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#mtu\" aria-hidden=\"true\"></a> MTU</h2>\n<p data-line=\"89\" class=\"code-line\">MTU 最大転送単位 とのこと。データリンクによって MTU は異なるらしい。例えば IP は 65535 オクテット (= バイト) つまり 64 MiB。イーサネットは 1500 オクテット。</p>\n<p data-line=\"91\" class=\"code-line\">ちなみに、データリンクの上限を超えたデータサイズの場合はホストやルーターがデータの分割をして送る。終点のホストが分割されたデータの再構築をする。</p>\n<p data-line=\"93\" class=\"code-line\">ただこれだと TCP の時に分割されたデータが一つ死んだら終わりという状況になるため、PMTU という、通信経路上でデータ分割が必要にならない最大 MTU の探索が行えるようになった。</p>\n<p data-line=\"95\" class=\"code-line\">ちなみに IPv6 において PMTU は最小で 1280 となっている。</p>\n<h1 id=\"5-%E7%AB%A0\" data-line=\"97\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#5-%E7%AB%A0\" aria-hidden=\"true\"></a> 5 章</h1>\n<p data-line=\"99\" class=\"code-line\">DNS に問い合わせをするホストやソフトウェアをリゾルバという。</p>\n<h2 id=\"dhcp\" data-line=\"101\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#dhcp\" aria-hidden=\"true\"></a> DHCP</h2>\n<p data-line=\"103\" class=\"code-line\">動的に IP アドレスを割り当てるプロトコル。DHCP でも固定の IP アドレスを割り当てることも可能。家庭だとルーターが DHCP サーバーを兼ねている。</p>\n<h2 id=\"nat\" data-line=\"105\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#nat\" aria-hidden=\"true\"></a> NAT</h2>\n<p data-line=\"107\" class=\"code-line\">NAT は先ほども書いたようにプライベート IP アドレスとグローバル IP アドレスを変換してくれるもの。IP だけではなく TCP, UDP のポート番号も付け替える NAPT というものもあるらしい。ポートの付け替えができることで、同一 PC だが別ポートでやり取りしたいような場合に便利。</p>\n<h2 id=\"ip-%E3%83%88%E3%83%B3%E3%83%8D%E3%83%AA%E3%83%B3%E3%82%B0\" data-line=\"109\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#ip-%E3%83%88%E3%83%B3%E3%83%8D%E3%83%AA%E3%83%B3%E3%82%B0\" aria-hidden=\"true\"></a> IP トンネリング</h2>\n<p data-line=\"111\" class=\"code-line\">IPv6 のネットワーク A, C がある。しかし、間の B は IPv4 にしか対応していない。このような場合に A のヘッダに対して IPv4 ヘッダを添加することで B を通過可能にしている。これが IPv6 over IPv4。</p>\n<h2 id=\"mobile-ip\" data-line=\"113\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#mobile-ip\" aria-hidden=\"true\"></a> Mobile IP</h2>\n<p data-line=\"115\" class=\"code-line\">移動中に DHCP によって毎回 IP が切り替わるのであれば、TCP を利用した通信が死に続けるということになる。Mobile IP はこれが起きないようにする技術らしい。ホームエージェントと外部エージェント間でトンネリングしてパケットを転送する仕組み。</p>\n<h1 id=\"6-%E7%AB%A0\" data-line=\"117\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#6-%E7%AB%A0\" aria-hidden=\"true\"></a> 6 章</h1>\n<p data-line=\"119\" class=\"code-line\">TCP, UDP、つまりトランスポート層の話。このレイヤーはポート番号を見る。例えばクライアントから http リクエストがあった場合、inetd (インターネットデーモン) がリクエストを受け付ける。TCP の接続要求パケットのヘッダーの宛先ポートを見て、80 なら自身をfork して httpd としてコネクションを確立する。また、アプリケーションから TCP, UDP を利用する場合は、OS が用意しているソケット API を利用する。</p>\n<p data-line=\"121\" class=\"code-line\">またポートは 1 ポートで複数のコネクションを確立することが可能。また、サーバーつまりサービスを提供する側はポートが固定されているが、クライアント側は固定である必要はない。そのため動的に OS が利用するポートを選ぶようにすることも多い。</p>\n<h1 id=\"7-%E7%AB%A0\" data-line=\"123\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#7-%E7%AB%A0\" aria-hidden=\"true\"></a> 7 章</h1>\n<p data-line=\"125\" class=\"code-line\">ルーティングの話。あまり興味ないのでざっと見て終わり。</p>\n<h1 id=\"8-%E7%AB%A0\" data-line=\"127\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#8-%E7%AB%A0\" aria-hidden=\"true\"></a> 8 章</h1>\n<p data-line=\"129\" class=\"code-line\">TCP / IP のアプリケーション層のプロトコルの話。</p>\n<p data-line=\"131\" class=\"code-line\">SMTP: Simple Mail Transfer Protocol。TCP を用いている。</p>\n<h1 id=\"9-%E7%AB%A0\" data-line=\"133\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#9-%E7%AB%A0\" aria-hidden=\"true\"></a> 9 章</h1>\n<p data-line=\"135\" class=\"code-line\">セキュリティの話。</p>\n<h2 id=\"%E3%83%95%E3%82%A1%E3%82%A4%E3%82%A2%E3%82%A6%E3%82%A9%E3%83%BC%E3%83%AB\" data-line=\"137\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%83%95%E3%82%A1%E3%82%A4%E3%82%A2%E3%82%A6%E3%82%A9%E3%83%BC%E3%83%AB\" aria-hidden=\"true\"></a> ファイアウォール</h2>\n<p data-line=\"139\" class=\"code-line\">規定されたパケットのみを通過させる -&gt; パケットフィルタリング</p>\n<p data-line=\"141\" class=\"code-line\">アプリケーションを介在させて不正な通信を遮断する -&gt; アプリケーションゲートウェイ</p>\n<h2 id=\"ids\" data-line=\"143\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#ids\" aria-hidden=\"true\"></a> IDS</h2>\n<p data-line=\"145\" class=\"code-line\">侵入検知システム。ファイアウォールはポリシーに合致した通信は許可する仕組み。それでカバーしきれなかった通信を監視して、問題のあるアクセスをしているものを検知したりする。例えばパケットやログの監視。</p>\n",
      "date": "2025-12-28",
      "tags": [
        "Book"
      ],
      "readTime": "10 min read",
      "published": true,
      "source": "local"
    },
    {
      "id": "zenn-7ec66bc9edb1cb",
      "title": "年の瀬に学んだ Context Engineering",
      "excerpt": "前置き\n実は最初は Context Engineering なんて学ぶつもりなくて、年の瀬に Claude Code の現在地確かめてみた ぐらいの記事を書くつもりでした。(これも後日書くと思う、多分...)\nClaude Code の公式ドキュメントを追いながら\n\nSubagents\nAgent Skills\nSlash commands\n\nこの辺りのナウいワードなどをキャッチアップしていたのですが、初見ではそれぞれをどう使い分ければいいのか、しっかり腹落ちするところまで理解ができませんでした。\n要するに任意の要求に対して、それを達成するには Subagent でも良い気がするし、...",
      "date": "2025-12-15",
      "tags": [
        "Zenn"
      ],
      "readTime": "Zenn記事",
      "published": true,
      "source": "zenn",
      "externalUrl": "https://zenn.dev/hashiiiii/articles/7ec66bc9edb1cb",
      "html": ""
    },
    {
      "id": "2025-11-23-zenn-syntax-test",
      "title": "Zenn 拡張構文テスト",
      "excerpt": "Zenn Editor の拡張構文が正しく動作するかのテスト記事です。メッセージボックス、アコーディオン、埋め込みコンテンツなどをテストします。",
      "html": "<h1 id=\"zenn-%E6%8B%A1%E5%BC%B5%E6%A7%8B%E6%96%87%E3%83%86%E3%82%B9%E3%83%88\" data-line=\"1\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#zenn-%E6%8B%A1%E5%BC%B5%E6%A7%8B%E6%96%87%E3%83%86%E3%82%B9%E3%83%88\" aria-hidden=\"true\"></a> Zenn 拡張構文テスト</h1>\n<p data-line=\"3\" class=\"code-line\">この記事では、Zenn Editorの拡張構文が正しく動作するかをテストします。</p>\n<h2 id=\"%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9\" data-line=\"5\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9\" aria-hidden=\"true\"></a> メッセージボックス</h2>\n<h3 id=\"%E9%80%9A%E5%B8%B8%E3%81%AE%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8\" data-line=\"7\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E9%80%9A%E5%B8%B8%E3%81%AE%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8\" aria-hidden=\"true\"></a> 通常のメッセージ</h3>\n<aside class=\"msg message\"><span class=\"msg-symbol\">!</span><div class=\"msg-content\"><p data-line=\"10\" class=\"code-line\">これは通常のメッセージボックスです。重要な情報を強調表示するために使用します。</p>\n</div></aside>\n<h3 id=\"%E8%AD%A6%E5%91%8A%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8\" data-line=\"13\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E8%AD%A6%E5%91%8A%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8\" aria-hidden=\"true\"></a> 警告メッセージ</h3>\n<aside class=\"msg alert\"><span class=\"msg-symbol\">!</span><div class=\"msg-content\"><p data-line=\"16\" class=\"code-line\">これは警告メッセージボックスです。注意が必要な情報を表示します。</p>\n</div></aside>\n<h2 id=\"%E3%82%A2%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%82%AA%E3%83%B3%EF%BC%88%E6%8A%98%E3%82%8A%E3%81%9F%E3%81%9F%E3%81%BF%EF%BC%89\" data-line=\"19\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%A2%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%82%AA%E3%83%B3%EF%BC%88%E6%8A%98%E3%82%8A%E3%81%9F%E3%81%9F%E3%81%BF%EF%BC%89\" aria-hidden=\"true\"></a> アコーディオン（折りたたみ）</h2>\n<details><summary>クリックして展開</summary><div class=\"details-content\"><p data-line=\"22\" class=\"code-line\">折りたたみコンテンツがここに表示されます。</p>\n<ul data-line=\"24\" class=\"code-line\">\n<li data-line=\"24\" class=\"code-line\">項目1</li>\n<li data-line=\"25\" class=\"code-line\">項目2</li>\n<li data-line=\"26\" class=\"code-line\">項目3</li>\n</ul>\n<p data-line=\"28\" class=\"code-line\">詳細な説明や追加情報をここに記載できます。</p>\n</div></details>\n<h2 id=\"%E3%83%8D%E3%82%B9%E3%83%88%E3%81%95%E3%82%8C%E3%81%9F%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A\" data-line=\"31\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%83%8D%E3%82%B9%E3%83%88%E3%81%95%E3%82%8C%E3%81%9F%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A\" aria-hidden=\"true\"></a> ネストされたコンテナ</h2>\n<details><summary>外側のタイトル</summary><div class=\"details-content\"><p data-line=\"34\" class=\"code-line\">これは外側のコンテナです。</p>\n<aside class=\"msg message\"><span class=\"msg-symbol\">!</span><div class=\"msg-content\"><p data-line=\"37\" class=\"code-line\">ネストされたメッセージボックスです。<br />\n複数のコンテナを組み合わせることができます。</p>\n</div></aside>\n</div></details>\n<h2 id=\"%E3%82%B3%E3%83%BC%E3%83%89%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF\" data-line=\"43\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF\" aria-hidden=\"true\"></a> コードブロック</h2>\n<h3 id=\"typescript\" data-line=\"45\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#typescript\" aria-hidden=\"true\"></a> TypeScript</h3>\n<div class=\"code-block-container\"><pre class=\"language-typescript\"><code class=\"language-typescript code-line\" data-line=\"47\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  email<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">greet</span><span class=\"token punctuation\">(</span>user<span class=\"token operator\">:</span> User<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Hello, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>user<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">!</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> user<span class=\"token operator\">:</span> User <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'Taro'</span><span class=\"token punctuation\">,</span>\n  email<span class=\"token operator\">:</span> <span class=\"token string\">'taro@example.com'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">greet</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div><h3 id=\"python\" data-line=\"67\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#python\" aria-hidden=\"true\"></a> Python</h3>\n<div class=\"code-block-container\"><pre class=\"language-python\"><code class=\"language-python code-line\" data-line=\"69\"><span class=\"token keyword\">def</span> <span class=\"token function\">fibonacci</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> n <span class=\"token operator\">&lt;=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> n\n    <span class=\"token keyword\">return</span> fibonacci<span class=\"token punctuation\">(</span>n<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> fibonacci<span class=\"token punctuation\">(</span>n<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># フィボナッチ数列の最初の10項</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"F(</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>i<span class=\"token punctuation\">}</span></span><span class=\"token string\">) = </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>fibonacci<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\n</code></pre></div><h2 id=\"%E6%95%B0%E5%BC%8F\" data-line=\"80\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E6%95%B0%E5%BC%8F\" aria-hidden=\"true\"></a> 数式</h2>\n<h3 id=\"%E3%82%A4%E3%83%B3%E3%83%A9%E3%82%A4%E3%83%B3%E6%95%B0%E5%BC%8F\" data-line=\"82\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%A4%E3%83%B3%E3%83%A9%E3%82%A4%E3%83%B3%E6%95%B0%E5%BC%8F\" aria-hidden=\"true\"></a> インライン数式</h3>\n<p data-line=\"84\" class=\"code-line\">アインシュタインの質量とエネルギーの等価性: <embed-katex><eq class=\"zenn-katex\">E = mc^2</eq></embed-katex></p>\n<h3 id=\"%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E6%95%B0%E5%BC%8F\" data-line=\"86\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E6%95%B0%E5%BC%8F\" aria-hidden=\"true\"></a> ブロック数式</h3>\n<p data-line=\"88\" class=\"code-line\">ガウス積分の公式:</p>\n<section class=\"zenn-katex code-line\" data-line=\"90\"><eqn><embed-katex display-mode=\"1\">\n\\int_{-\\infty}^{\\infty} e^{-x^2} dx = \\sqrt{\\pi}\n</embed-katex></eqn></section>\n<p data-line=\"94\" class=\"code-line\">オイラーの公式:</p>\n<section class=\"zenn-katex code-line\" data-line=\"96\"><eqn><embed-katex display-mode=\"1\">\ne^{i\\pi} + 1 = 0\n</embed-katex></eqn></section>\n<h2 id=\"%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB\" data-line=\"100\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB\" aria-hidden=\"true\"></a> テーブル</h2>\n<table data-line=\"102\" class=\"code-line\">\n<thead data-line=\"102\" class=\"code-line\">\n<tr data-line=\"102\" class=\"code-line\">\n<th>言語</th>\n<th>難易度</th>\n<th>用途</th>\n</tr>\n</thead>\n<tbody data-line=\"104\" class=\"code-line\">\n<tr data-line=\"104\" class=\"code-line\">\n<td>TypeScript</td>\n<td>あ</td>\n<td>Web開発</td>\n</tr>\n<tr data-line=\"105\" class=\"code-line\">\n<td>Python</td>\n<td>い</td>\n<td>データ分析、機械学習</td>\n</tr>\n<tr data-line=\"106\" class=\"code-line\">\n<td>Rust</td>\n<td>う</td>\n<td>システムプログラミング</td>\n</tr>\n<tr data-line=\"107\" class=\"code-line\">\n<td>Go</td>\n<td>え</td>\n<td>バックエンド開発</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"%E3%83%AA%E3%82%B9%E3%83%88\" data-line=\"109\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%83%AA%E3%82%B9%E3%83%88\" aria-hidden=\"true\"></a> リスト</h2>\n<h3 id=\"%E9%A0%86%E5%BA%8F%E3%81%AA%E3%81%97%E3%83%AA%E3%82%B9%E3%83%88\" data-line=\"111\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E9%A0%86%E5%BA%8F%E3%81%AA%E3%81%97%E3%83%AA%E3%82%B9%E3%83%88\" aria-hidden=\"true\"></a> 順序なしリスト</h3>\n<ul data-line=\"113\" class=\"code-line\">\n<li data-line=\"113\" class=\"code-line\">項目1\n<ul data-line=\"114\" class=\"code-line\">\n<li data-line=\"114\" class=\"code-line\">サブ項目1.1</li>\n<li data-line=\"115\" class=\"code-line\">サブ項目1.2\n<ul data-line=\"116\" class=\"code-line\">\n<li data-line=\"116\" class=\"code-line\">サブサブ項目1.2.1</li>\n</ul>\n</li>\n</ul>\n</li>\n<li data-line=\"117\" class=\"code-line\">項目2</li>\n<li data-line=\"118\" class=\"code-line\">項目3</li>\n</ul>\n<h3 id=\"%E9%A0%86%E5%BA%8F%E4%BB%98%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88\" data-line=\"120\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E9%A0%86%E5%BA%8F%E4%BB%98%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88\" aria-hidden=\"true\"></a> 順序付きリスト</h3>\n<ol data-line=\"122\" class=\"code-line\">\n<li data-line=\"122\" class=\"code-line\">最初のステップ</li>\n<li data-line=\"123\" class=\"code-line\">次のステップ</li>\n<li data-line=\"124\" class=\"code-line\">最後のステップ</li>\n</ol>\n<h3 id=\"%E3%82%BF%E3%82%B9%E3%82%AF%E3%83%AA%E3%82%B9%E3%83%88\" data-line=\"126\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%BF%E3%82%B9%E3%82%AF%E3%83%AA%E3%82%B9%E3%83%88\" aria-hidden=\"true\"></a> タスクリスト</h3>\n<ul class=\"contains-task-list code-line\" data-line=\"128\">\n<li class=\"task-list-item enabled code-line\" data-line=\"128\"><input class=\"task-list-item-checkbox\" checked type=\"checkbox\" /> 完了したタスク</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"129\"><input class=\"task-list-item-checkbox\" checked type=\"checkbox\" /> これも完了</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"130\"><input class=\"task-list-item-checkbox\" type=\"checkbox\" /> 未完了のタスク</li>\n<li class=\"task-list-item enabled code-line\" data-line=\"131\"><input class=\"task-list-item-checkbox\" type=\"checkbox\" /> これも未完了</li>\n</ul>\n<h2 id=\"%E5%BC%95%E7%94%A8\" data-line=\"133\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%BC%95%E7%94%A8\" aria-hidden=\"true\"></a> 引用</h2>\n<blockquote data-line=\"135\" class=\"code-line\">\n<p data-line=\"135\" class=\"code-line\">これは引用文です。<br />\n複数行にわたって引用することができます。</p>\n<p data-line=\"138\" class=\"code-line\">— 著者名</p>\n</blockquote>\n<h2 id=\"%E6%B0%B4%E5%B9%B3%E7%B7%9A\" data-line=\"140\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E6%B0%B4%E5%B9%B3%E7%B7%9A\" aria-hidden=\"true\"></a> 水平線</h2>\n<p data-line=\"142\" class=\"code-line\">以下は水平線です。</p>\n<hr data-line=\"144\" class=\"code-line\" />\n<h2 id=\"mermaid%E5%9B%B3%E8%A1%A8\" data-line=\"146\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#mermaid%E5%9B%B3%E8%A1%A8\" aria-hidden=\"true\"></a> Mermaid図表</h2>\n<h3 id=\"%E3%83%95%E3%83%AD%E3%83%BC%E3%83%81%E3%83%A3%E3%83%BC%E3%83%88\" data-line=\"148\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%83%95%E3%83%AD%E3%83%BC%E3%83%81%E3%83%A3%E3%83%BC%E3%83%88\" aria-hidden=\"true\"></a> フローチャート</h3>\n<span class=\"embed-block zenn-embedded zenn-embedded-mermaid\"><iframe id=\"zenn-embedded__3a5fca566688a\" src=\"https://embed.zenn.studio/mermaid#zenn-embedded__3a5fca566688a\" data-content=\"graph%20TD%0A%20%20%20%20A%5B%E9%96%8B%E5%A7%8B%5D%20--%3E%20B%7B%E6%9D%A1%E4%BB%B6%E5%88%86%E5%B2%90%7D%0A%20%20%20%20B%20--%3E%7CYes%7C%20C%5B%E5%87%A6%E7%90%861%5D%0A%20%20%20%20B%20--%3E%7CNo%7C%20D%5B%E5%87%A6%E7%90%862%5D%0A%20%20%20%20C%20--%3E%20E%5B%E7%B5%82%E4%BA%86%5D%0A%20%20%20%20D%20--%3E%20E\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span><h3 id=\"%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9%E5%9B%B3\" data-line=\"159\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%B7%E3%83%BC%E3%82%B1%E3%83%B3%E3%82%B9%E5%9B%B3\" aria-hidden=\"true\"></a> シーケンス図</h3>\n<span class=\"embed-block zenn-embedded zenn-embedded-mermaid\"><iframe id=\"zenn-embedded__f7746578caa36\" src=\"https://embed.zenn.studio/mermaid#zenn-embedded__f7746578caa36\" data-content=\"sequenceDiagram%0A%20%20%20%20participant%20Client%0A%20%20%20%20participant%20Server%0A%20%20%20%20participant%20Database%0A%0A%20%20%20%20Client-%3E%3EServer%3A%20%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E9%80%81%E4%BF%A1%0A%20%20%20%20Server-%3E%3EDatabase%3A%20%E3%83%87%E3%83%BC%E3%82%BF%E5%8F%96%E5%BE%97%0A%20%20%20%20Database--%3E%3EServer%3A%20%E3%83%87%E3%83%BC%E3%82%BF%E8%BF%94%E5%8D%B4%0A%20%20%20%20Server--%3E%3EClient%3A%20%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E8%BF%94%E5%8D%B4\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span><h2 id=\"%E3%83%AA%E3%83%B3%E3%82%AF\" data-line=\"173\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%83%AA%E3%83%B3%E3%82%AF\" aria-hidden=\"true\"></a> リンク</h2>\n<p data-line=\"175\" class=\"code-line\"><a href=\"https://zenn.dev\" target=\"_blank\">Zenn公式サイト</a></p>\n<p data-line=\"177\" class=\"code-line\"><a href=\"https://github.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GitHub</a></p>\n<h2 id=\"%E7%94%BB%E5%83%8F\" data-line=\"179\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E7%94%BB%E5%83%8F\" aria-hidden=\"true\"></a> 画像</h2>\n<h3 id=\"%E9%80%9A%E5%B8%B8%E3%81%AE%E7%94%BB%E5%83%8F\" data-line=\"181\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E9%80%9A%E5%B8%B8%E3%81%AE%E7%94%BB%E5%83%8F\" aria-hidden=\"true\"></a> 通常の画像</h3>\n<p data-line=\"183\" class=\"code-line\"><img src=\"https://placehold.co/600x400/16161e/c0caf5?text=Sample+Image\" alt=\"Sample Image\" class=\"md-img\" loading=\"lazy\" /></p>\n<h3 id=\"%E7%94%BB%E5%83%8F%E3%82%B5%E3%82%A4%E3%82%BA%E6%8C%87%E5%AE%9A%EF%BC%88zenn%E8%A8%98%E6%B3%95%EF%BC%89\" data-line=\"185\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E7%94%BB%E5%83%8F%E3%82%B5%E3%82%A4%E3%82%BA%E6%8C%87%E5%AE%9A%EF%BC%88zenn%E8%A8%98%E6%B3%95%EF%BC%89\" aria-hidden=\"true\"></a> 画像サイズ指定（Zenn記法）</h3>\n<p data-line=\"187\" class=\"code-line\">幅250pxに指定：</p>\n<p data-line=\"189\" class=\"code-line\"><img src=\"https://placehold.co/600x400/16161e/c0caf5?text=Width+250px\" alt=\"\" width=\"250\" class=\"md-img\" loading=\"lazy\" /></p>\n<p data-line=\"191\" class=\"code-line\">幅を指定せず高さ200pxに指定：</p>\n<p data-line=\"193\" class=\"code-line\"><img src=\"https://placehold.co/600x400/16161e/c0caf5?text=Height+200px\" alt=\"\" height=\"200\" class=\"md-img\" loading=\"lazy\" /></p>\n<h2 id=\"%E3%82%B3%E3%83%BC%E3%83%89%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%EF%BC%88%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E4%BB%98%E3%81%8D%EF%BC%89\" data-line=\"195\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%EF%BC%88%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E4%BB%98%E3%81%8D%EF%BC%89\" aria-hidden=\"true\"></a> コードブロック（ファイル名付き）</h2>\n<h3 id=\"typescript%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E8%A1%A8%E7%A4%BA\" data-line=\"197\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#typescript%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E8%A1%A8%E7%A4%BA\" aria-hidden=\"true\"></a> TypeScriptファイル名表示</h3>\n<div class=\"code-block-container\"><div class=\"code-block-filename-container\"><span class=\"code-block-filename\">sample.ts</span></div><pre class=\"language-typescript\"><code class=\"language-typescript code-line\" data-line=\"199\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n  name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> user<span class=\"token operator\">:</span> User <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'John'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div><h3 id=\"python%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E8%A1%A8%E7%A4%BA\" data-line=\"208\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#python%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%90%8D%E8%A1%A8%E7%A4%BA\" aria-hidden=\"true\"></a> Pythonファイル名表示</h3>\n<div class=\"code-block-container\"><div class=\"code-block-filename-container\"><span class=\"code-block-filename\">main.py</span></div><pre class=\"language-python\"><code class=\"language-python code-line\" data-line=\"210\"><span class=\"token keyword\">def</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"Hello, </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span></span><span class=\"token string\">!\"</span></span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>hello<span class=\"token punctuation\">(</span><span class=\"token string\">\"World\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre></div><h2 id=\"%E8%84%9A%E6%B3%A8%E3%81%AE%E3%83%86%E3%82%B9%E3%83%88\" data-line=\"217\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E8%84%9A%E6%B3%A8%E3%81%AE%E3%83%86%E3%82%B9%E3%83%88\" aria-hidden=\"true\"></a> 脚注のテスト</h2>\n<p data-line=\"219\" class=\"code-line\">これは脚注のテストです<sup class=\"footnote-ref\"><a href=\"#fn-4208-1\" id=\"fnref-4208-1\">[1]</a></sup>。複数の脚注も使えます<sup class=\"footnote-ref\"><a href=\"#fn-4208-2\" id=\"fnref-4208-2\">[2]</a></sup>。</p>\n<h2 id=\"%E5%9F%8B%E3%82%81%E8%BE%BC%E3%81%BF%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84\" data-line=\"225\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%9F%8B%E3%82%81%E8%BE%BC%E3%81%BF%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84\" aria-hidden=\"true\"></a> 埋め込みコンテンツ</h2>\n<h3 id=\"youtube%E3%81%AE%E5%9F%8B%E3%82%81%E8%BE%BC%E3%81%BF\" data-line=\"227\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#youtube%E3%81%AE%E5%9F%8B%E3%82%81%E8%BE%BC%E3%81%BF\" aria-hidden=\"true\"></a> YouTubeの埋め込み</h3>\n<p data-line=\"229\" class=\"code-line\"><span class=\"embed-block embed-youtube\"><iframe src=\"https://www.youtube-nocookie.com/embed/dQw4w9WgXcQ\" allow=\"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen loading=\"lazy\"></iframe></span><a href=\"https://www.youtube.com/watch?v=dQw4w9WgXcQ\" style=\"display:none\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.youtube.com/watch?v=dQw4w9WgXcQ</a></p>\n<h3 id=\"twitter%E3%81%AE%E5%9F%8B%E3%82%81%E8%BE%BC%E3%81%BF\" data-line=\"231\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#twitter%E3%81%AE%E5%9F%8B%E3%82%81%E8%BE%BC%E3%81%BF\" aria-hidden=\"true\"></a> Twitterの埋め込み</h3>\n<p data-line=\"233\" class=\"code-line\"><span class=\"embed-block zenn-embedded zenn-embedded-tweet\"><iframe id=\"zenn-embedded__272de6228bc49\" src=\"https://embed.zenn.studio/tweet#zenn-embedded__272de6228bc49\" data-content=\"https%3A%2F%2Ftwitter.com%2Fjack%2Fstatus%2F20\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span><a href=\"https://twitter.com/jack/status/20\" style=\"display:none\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://twitter.com/jack/status/20</a></p>\n<h3 id=\"github%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%81%AE%E5%9F%8B%E3%82%81%E8%BE%BC%E3%81%BF\" data-line=\"235\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#github%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%81%AE%E5%9F%8B%E3%82%81%E8%BE%BC%E3%81%BF\" aria-hidden=\"true\"></a> GitHubリポジトリの埋め込み</h3>\n<p data-line=\"237\" class=\"code-line\"><span class=\"embed-block zenn-embedded zenn-embedded-card\"><iframe id=\"zenn-embedded__9fede6a6bf5e2\" src=\"https://embed.zenn.studio/card#zenn-embedded__9fede6a6bf5e2\" data-content=\"https%3A%2F%2Fgithub.com%2Fzenn-dev%2Fzenn-editor\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span><a href=\"https://github.com/zenn-dev/zenn-editor\" style=\"display:none\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/zenn-dev/zenn-editor</a></p>\n<h3 id=\"codepen%E3%81%AE%E5%9F%8B%E3%82%81%E8%BE%BC%E3%81%BF\" data-line=\"239\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#codepen%E3%81%AE%E5%9F%8B%E3%82%81%E8%BE%BC%E3%81%BF\" aria-hidden=\"true\"></a> CodePenの埋め込み</h3>\n<p data-line=\"241\" class=\"code-line\"><span class=\"embed-block zenn-embedded zenn-embedded-card\"><iframe id=\"zenn-embedded__60225db1c402e\" src=\"https://embed.zenn.studio/card#zenn-embedded__60225db1c402e\" data-content=\"https%3A%2F%2Fcodepen.io%2Fsosuke%2Fpen%2FPjoqqp\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span><a href=\"https://codepen.io/sosuke/pen/Pjoqqp\" style=\"display:none\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://codepen.io/sosuke/pen/Pjoqqp</a></p>\n<h2 id=\"%E3%82%A4%E3%83%B3%E3%83%A9%E3%82%A4%E3%83%B3%E3%82%B3%E3%83%BC%E3%83%89\" data-line=\"243\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%A4%E3%83%B3%E3%83%A9%E3%82%A4%E3%83%B3%E3%82%B3%E3%83%BC%E3%83%89\" aria-hidden=\"true\"></a> インラインコード</h2>\n<p data-line=\"245\" class=\"code-line\"><code>const greeting = 'Hello, World!';</code> のようにインラインでコードを記述できます。</p>\n<h2 id=\"%E3%83%AA%E3%83%B3%E3%82%AF%E3%82%AB%E3%83%BC%E3%83%89\" data-line=\"247\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%83%AA%E3%83%B3%E3%82%AF%E3%82%AB%E3%83%BC%E3%83%89\" aria-hidden=\"true\"></a> リンクカード</h2>\n<p data-line=\"249\" class=\"code-line\">単独行のURLはリンクカードとして表示されます：</p>\n<p data-line=\"251\" class=\"code-line\"><span class=\"embed-block zenn-embedded zenn-embedded-card\"><iframe id=\"zenn-embedded__714edb1d023fe\" src=\"https://embed.zenn.studio/card#zenn-embedded__714edb1d023fe\" data-content=\"https%3A%2F%2Fzenn.dev\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span><a href=\"https://zenn.dev\" style=\"display:none\" target=\"_blank\">https://zenn.dev</a></p>\n<h2 id=\"%E3%81%BE%E3%81%A8%E3%82%81\" data-line=\"253\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-hidden=\"true\"></a> まとめ</h2>\n<p data-line=\"255\" class=\"code-line\">この記事では、Zenn Editorの主要な拡張構文をテストしました。</p>\n<aside class=\"msg message\"><span class=\"msg-symbol\">!</span><div class=\"msg-content\"><p data-line=\"258\" class=\"code-line\">すべての構文が正しく表示されていれば、Zenn Editor統合は成功です！</p>\n</div></aside>\n<section class=\"footnotes\">\n<span class=\"footnotes-title\">脚注</span>\n<ol class=\"footnotes-list\">\n<li id=\"fn-4208-1\" class=\"footnote-item\"><p data-line=\"221\" class=\"code-line\">これは1つ目の脚注です。 <a href=\"#fnref-4208-1\" class=\"footnote-backref\">↩︎</a></p>\n</li>\n<li id=\"fn-4208-2\" class=\"footnote-item\"><p data-line=\"223\" class=\"code-line\">これは2つ目の脚注です。詳細な説明を書くこともできます。 <a href=\"#fnref-4208-2\" class=\"footnote-backref\">↩︎</a></p>\n</li>\n</ol>\n</section>\n",
      "date": "2025-11-23",
      "tags": [
        "Random"
      ],
      "readTime": "5 min read",
      "published": true,
      "source": "local"
    },
    {
      "id": "zenn-11e4ab6b357481",
      "title": "Claude Code の Hooks でタスクの完了をデスクトップ通知する",
      "excerpt": "やること\n下記の画像のように Claude Code に投げたタスクが完了した際に、サウンド付きでデスクトップ通知してサボり者の自分にムチをうちます。\n\n\n 動機\n私は怠け者ですので Claude Code にタスクを投げたまま Youtube を見てしまい、無限に時間を溶かし続けていました。\nhttps://docs.anthropic.com/en/release-notes/claude-code\n上記の Release Notes にあるように、2025/06/30（多分 JST じゃないと思う....） に Claude Code に Hooks という機能が追加されました...",
      "date": "2025-07-06",
      "tags": [
        "Zenn"
      ],
      "readTime": "Zenn記事",
      "published": true,
      "source": "zenn",
      "externalUrl": "https://zenn.dev/hashiiiii/articles/11e4ab6b357481",
      "html": ""
    },
    {
      "id": "zenn-bc7a0e34eaef86",
      "title": "Unity でフローティング UI を簡単に実装できる OSS「RectPop」を公開しました",
      "excerpt": "RectPop\nhttps://github.com/hashiiiii/RectPop\n詳細は README を見てください。日本語版のドキュメントも用意しているのでそちらを見てもらうのが良いかと思います。\n\n 追記（2025/02/10）\nv2.0.0 以降で R3, UniRx 向けの実装を削除しました。RectPop の利用に際して他の OSS にも依存が発生するのは使い勝手が悪いと感じこのような対応を取りました。R3, UniRx 向けの統合サンプルを残していますので、そちらを参照しながら統合を進めてもらえればと思います。\n\n 追記（2025/01/20）\nv1.1.0 以...",
      "date": "2025-01-05",
      "tags": [
        "Zenn"
      ],
      "readTime": "Zenn記事",
      "published": true,
      "source": "zenn",
      "externalUrl": "https://zenn.dev/hashiiiii/articles/bc7a0e34eaef86",
      "html": ""
    },
    {
      "id": "zenn-aa008700c027c0",
      "title": "Github に 2FA(2段階認証) 導入後 CLI 操作で Personal Access Token を求められるのを回避する方法",
      "excerpt": "動機\nそもそも ssh で接続したいという話はありますが、チーム開発をしていると https を使わざるを得ない場合もあると思います。例えば monorepo なプロダクトを github で管理する際に、.gitmodules 内部で url に https が指定されている場合など。ここでは username と password を聞かれるわけですが、2FA を導入すると password には PAT を入力する必要があります。流石に毎回 PAT(Personal Access Token) を発行していられないので、何か方法が無いのか探したのがきっかけです。\n\n 手順\n公式...",
      "date": "2024-10-25",
      "tags": [
        "Zenn"
      ],
      "readTime": "Zenn記事",
      "published": true,
      "source": "zenn",
      "externalUrl": "https://zenn.dev/hashiiiii/articles/aa008700c027c0",
      "html": ""
    },
    {
      "id": "zenn-b0eb7344c10f45",
      "title": "Flutter 開発環境を構築する",
      "excerpt": "動機\nある日突然意味不明な創作意欲に満ちあふれてしまうことが、エンジニアなら一度はあるのではないでしょうか？そんなわけで iOS/Android 向けのモバイルアプリケーションを開発したくなったので、クロスプラットフォームな開発フレームワークの選定を始めました。私自身はお仕事で毎日 C# を書いているので、.NET MAUI を使うか非常に迷いました。がしかし、何となく世の中が「ふらったー、ふらったー」と言っているのをここ1, 2年くらい？観測していたのでとりあえず使ってみるかとなったわけです。\n\n 手順\n基本的には Flutter の公式ドキュメントに沿って作業しました。\nhttp...",
      "date": "2023-06-27",
      "tags": [
        "Zenn"
      ],
      "readTime": "Zenn記事",
      "published": true,
      "source": "zenn",
      "externalUrl": "https://zenn.dev/hashiiiii/articles/b0eb7344c10f45",
      "html": ""
    },
    {
      "id": "zenn-7f0b34c00f112a",
      "title": "Rider で環境変数を設定してコード上で参照する",
      "excerpt": "動機\nRider でコンソールアプリケーションを作成していて環境変数を設定したくなることがあると思います。例えば私の場合、PlayFab ServerAPI を叩くようなコンソールアプリケーションを作成していました。PlayFab Server API を実行するためには秘密鍵を設定する必要があります。\nhttps://github.com/PlayFab/CSharpSDK/blob/82ddcae7f87395f89e0e1fb4ecb3cfdc262c2134/PlayFabSDK/source/PlayFabSettings.cs#LL33C30-L33C48\nソースコード上...",
      "date": "2023-06-22",
      "tags": [
        "Zenn"
      ],
      "readTime": "Zenn記事",
      "published": true,
      "source": "zenn",
      "externalUrl": "https://zenn.dev/hashiiiii/articles/7f0b34c00f112a",
      "html": ""
    }
  ],
  "archives": [
    {
      "year": 2026,
      "month": 1,
      "count": 5
    },
    {
      "year": 2025,
      "month": 12,
      "count": 2
    },
    {
      "year": 2025,
      "month": 11,
      "count": 1
    },
    {
      "year": 2025,
      "month": 7,
      "count": 1
    },
    {
      "year": 2025,
      "month": 1,
      "count": 1
    },
    {
      "year": 2024,
      "month": 10,
      "count": 1
    },
    {
      "year": 2023,
      "month": 6,
      "count": 2
    }
  ],
  "tagCounts": [
    {
      "tag": "Zenn",
      "count": 6
    },
    {
      "tag": "Random",
      "count": 3
    },
    {
      "tag": "Book",
      "count": 2
    },
    {
      "tag": "Network",
      "count": 1
    },
    {
      "tag": "Game",
      "count": 1
    },
    {
      "tag": "Unity",
      "count": 1
    },
    {
      "tag": "C#",
      "count": 1
    }
  ]
}