---
title: 'React Native 開発 - part5 と Google Analytics の導入'
excerpt: '2025年09月27日の日報です。'
date: '2025-09-27'
tags: ['Daily Report', 'Google Analytics', 'React Native', 'Expo']
readTime: '4 min read'
---

# 前置き

本業側のリリース作業があり、労働負荷が高まった結果として日報を書く元気が湧かなかったです。また少しずつ頑張ります。

# Google Analytics

[当サイト](https://hashiiiii.com/)に Google Analytics を導入しました。
これといった導入理由はなくて、なんとなく使ってみたかったからです。
トラフィックを少し見るくらいになると思います。

## React Native, Expo で UI の作成

今日は[前回](./2025-09-23-daily.md)から更に少し進化をしました。型エイリアスという仕組みを使ってデータを構造化しました。

```tsx
type ChatMessage = {
  name: string;
  actor: Actor;
  text: string;
  createdAt: string;
};

enum Actor {
  User = 'user',
  Assistant = 'assistant',
}
```

これは C# でいう `record` と似たような概念です。JS にトランスパイルされるとただの JS オブジェクトとして扱われるらしい。
この `ChatMessage` は `Actor` 毎の style が用意されていて actor によって style が切り替わるようなイメージです。また、それぞれの style には共通化可能な部分があったので共通用の style も定義しました。

```tsx
<SectionList
  sections={[{ data: _dataList }]}
  keyExtractor={(item) => item.createdAt}
  renderItem={({ item }) => (
    <View style={[styles.chat, item.actor === Actor.User ? styles.chatUser : styles.chatAi]}>
      {item.text}
    </View>
  )}
/>
```

こんな感じ。てか、style って配列で複数指定可能なのですね。今日も勉強になった。

![雑 UI](/images/blog/2025-09-27-daily/playground.gif 'playground')

出来上がった UI はこれ。Assistant のレスポンスはハードコードしてます。
